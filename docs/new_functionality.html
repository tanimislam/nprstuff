

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2. New Functionality &mdash; nprstuff 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Graphics Functionality" href="graphics_functionality.html" />
    <link rel="prev" title="1. Core Functionality" href="core_functionality.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> nprstuff
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core_functionality.html">1. Core Functionality</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. New Functionality</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#autocropimage">2.1. <code class="docutils literal notranslate"><span class="pre">autoCropImage</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#convertimage">2.2. <code class="docutils literal notranslate"><span class="pre">convertImage</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#convertimage-image">2.2.1. convertImage image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#convertimage-movie">2.2.2. convertImage movie</a></li>
<li class="toctree-l3"><a class="reference internal" href="#convertimage-youtube">2.2.3. convertImage youtube</a></li>
<li class="toctree-l3"><a class="reference internal" href="#convertimage-square">2.2.4. convertImage square</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#changedates">2.3. <code class="docutils literal notranslate"><span class="pre">changedates</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#music-to-m4a">2.4. <code class="docutils literal notranslate"><span class="pre">music_to_m4a</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#download-surahs">2.5. <code class="docutils literal notranslate"><span class="pre">download_surahs</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#myrst2html">2.6. <code class="docutils literal notranslate"><span class="pre">myrst2html</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="graphics_functionality.html">3. Graphics Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="oldstuff.html">4. Oldstuff</a></li>
<li class="toctree-l1"><a class="reference internal" href="top_level_api.html">5. Top Level API</a></li>
<li class="toctree-l1"><a class="reference internal" href="core_api.html">6. Core APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="email_api.html">7. Email APIs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">nprstuff</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">2. </span>New Functionality</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/new_functionality.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="new-functionality">
<span id="new-functionality-label"></span><h1><span class="section-number">2. </span>New Functionality<a class="headerlink" href="#new-functionality" title="Permalink to this headline">¶</a></h1>
<p>This consists of newer functionality that does not download NPR episodes, nor can one straightforwardly modify them to download NPR episodes.</p>
<div class="section" id="autocropimage">
<span id="autocropimage-label"></span><h2><span class="section-number">2.1. </span><code class="docutils literal notranslate"><span class="pre">autoCropImage</span></code><a class="headerlink" href="#autocropimage" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">autoCropImage</span></code> automatically crops image (<a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/JPEG">JPEG</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/TIFF">TIFF</a>, etc.) and <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> files to remove whitespace. The default whitespace color is <code class="docutils literal notranslate"><span class="pre">white</span></code>. The help screen for this command line tool is here,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: autoCropImage [-h] --input INPUT [--output OUTPUT] [--color COLOR] [--trans] [--newwidth NEWWIDTH] [--show]</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help           show this help message and exit</span>
<span class="go">  --input INPUT        Name of the input file.</span>
<span class="go">  --output OUTPUT      Name of the output file. Optional.</span>
<span class="go">  --color COLOR        Name of the color over which to autocrop. Default is white.</span>
<span class="go">  --trans              If chosen, also remove the transparency wrapping around the image. Works only for non-PDF images.</span>
<span class="go">  --newwidth NEWWIDTH  New width of the image.</span>
<span class="go">  --show               If chosen, then show the final image after cropped.</span>
</pre></div>
</div>
<p>In the two examples shown here, I use only <em>white</em> (default) background. The first example, <a class="reference internal" href="#fig-autocrop-png"><span class="std std-numref">Fig. 2.1</span></a> demonstrates how this tool autocrops a <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image file.</p>
<div class="figure align-left" id="id9">
<span id="fig-autocrop-png"></span><a class="reference internal image-reference" href="_images/iwanttobelieve_uncropped_cropped.png"><img alt="_images/iwanttobelieve_uncropped_cropped.png" src="_images/iwanttobelieve_uncropped_cropped.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.1 </span><span class="caption-text">On the left (with dark black borders) is the uncropped file, <a class="reference download internal" download="" href="_downloads/7ddf745e99ada28663a8280f32fcb8f2/iwanttobelieve_uncropped.png"><code class="xref download docutils literal notranslate"><span class="pre">iwanttobelieve_uncropped.png</span></code></a>, and on the right is the cropped-without-any-whitespace (with dark black borders) file, <a class="reference download internal" download="" href="_downloads/f6ee3a48fe423aa3aef25e96794f3e35/iwanttobelieve_cropped.png"><code class="xref download docutils literal notranslate"><span class="pre">iwanttobelieve_cropped.png</span></code></a>.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>You can generate <a class="reference download internal" download="" href="_downloads/f6ee3a48fe423aa3aef25e96794f3e35/iwanttobelieve_cropped.png"><code class="xref download docutils literal notranslate"><span class="pre">iwanttobelieve_cropped.png</span></code></a> from <a class="reference download internal" download="" href="_downloads/7ddf745e99ada28663a8280f32fcb8f2/iwanttobelieve_uncropped.png"><code class="xref download docutils literal notranslate"><span class="pre">iwanttobelieve_uncropped.png</span></code></a> by running,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">autoCropImage --input=iwanttobelieve_uncropped.png --output=iwanttobelieve_cropped.png</span>
</pre></div>
</div>
<p>The second example, <a class="reference internal" href="#fig-autocrop-pdf"><span class="std std-numref">Fig. 2.2</span></a> demonstrates how this tool autocrops a <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> image file.</p>
<div class="figure align-left" id="id10">
<span id="fig-autocrop-pdf"></span><a class="reference internal image-reference" href="_images/cumulative_plot_emission_uncropped_cropped.png"><img alt="_images/cumulative_plot_emission_uncropped_cropped.png" src="_images/cumulative_plot_emission_uncropped_cropped.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2 </span><span class="caption-text">On the left (with dark black borders) is the uncropped file, <a class="reference download internal" download="" href="_downloads/3647f15c28f5b339c14c66e8b62a41bd/cumulative_plot_emission_uncropped.pdf"><code class="xref download docutils literal notranslate"><span class="pre">cumulative_plot_emission_uncropped.pdf</span></code></a>, and on the right is the cropped-without-any-whitespace (with dark black borders) file, <a class="reference download internal" download="" href="_downloads/7b917c539232813b9fc5a433167402e8/cumulative_plot_emission_cropped.pdf"><code class="xref download docutils literal notranslate"><span class="pre">cumulative_plot_emission_cropped.pdf</span></code></a>.</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<p>You can generate <a class="reference download internal" download="" href="_downloads/7b917c539232813b9fc5a433167402e8/cumulative_plot_emission_cropped.pdf"><code class="xref download docutils literal notranslate"><span class="pre">cumulative_plot_emission_cropped.pdf</span></code></a> from <a class="reference download internal" download="" href="_downloads/3647f15c28f5b339c14c66e8b62a41bd/cumulative_plot_emission_uncropped.pdf"><code class="xref download docutils literal notranslate"><span class="pre">cumulative_plot_emission_uncropped.pdf</span></code></a> by running,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">autoCropImage --input=cumulative_plot_emission_uncropped.pdf --output=cumulative_plot_emission_cropped.pdf</span>
</pre></div>
</div>
</div>
<div class="section" id="convertimage">
<span id="convertimage-label"></span><h2><span class="section-number">2.2. </span><code class="docutils literal notranslate"><span class="pre">convertImage</span></code><a class="headerlink" href="#convertimage" title="Permalink to this headline">¶</a></h2>
<p><em>Quite a long time ago</em>, <code class="docutils literal notranslate"><span class="pre">convertImage</span></code> used the <a class="reference external" href="https://cloudconvert.com/apiconsole">CloudConvert REST API</a> to <em>smoothly and without pain points</em> convert and resize <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a> images to <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> images of the same base name. And no, I’m not going to <a class="reference external" href="https://git-scm.com/docs/git-bisect">git bisect</a> my way to the commit when that last happened.</p>
<p>Now <code class="docutils literal notranslate"><span class="pre">convertImage</span></code> does four things, as seen when running <code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">-h</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: convertImage [-h] [--noverify] [--info] {image,movie,youtube,square} ...</span>

<span class="go">Now does four different things, where only &quot;image&quot; operates on image files!</span>

<span class="go">positional arguments:</span>
<span class="go">  {image,movie,youtube,square}</span>
<span class="go">                        Choose whether to convert a video or an image</span>
<span class="go">    image               If chosen, convert an SVG(Z), PDF, or PNG into PNG.</span>
<span class="go">    movie               If chosen, convert an MP4 into an animated GIF.</span>
<span class="go">    youtube             If chosen, convert a YOUTUBE video with URL into an animated GIF.</span>
<span class="go">    square              If chosen, create a square MP4 file from an input MP4 file.</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --noverify            If chosen, do not verify the SSL connection.</span>
<span class="go">  --info                If chosen, then print out INFO level logging.</span>
</pre></div>
</div>
<p>There are two optional top-level flags.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--info</span></code> prints out <code class="xref py py-const docutils literal notranslate"><span class="pre">INFO</span></code> level <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> output.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--noverify</span></code> ignores verification of SSL transactions. It is optional and defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
<p><a class="reference internal" href="#convertimage-image"><span class="std std-ref">convertImage image</span></a> <em>tries</em> to use the <a class="reference external" href="https://cloudconvert.com/apiconsole">CloudConvert REST API</a> to convert <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a> or <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics#Compression">SVGZ</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a>, or <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> images to another <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image. <a class="reference internal" href="#convertimage-movie"><span class="std std-ref">convertImage movie</span></a> creates an animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> file from an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file. <a class="reference internal" href="#convertimage-youtube"><span class="std std-ref">convertImage youtube</span></a> creates an animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> from a <a class="reference external" href="https://www.youtube.com">YouTube</a> clip. Finally, <a class="reference internal" href="#convertimage-square"><span class="std std-ref">convertImage square</span></a> creates a <em>square</em> <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file a non-square <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file.</p>
<p>Both <a class="reference internal" href="#convertimage-movie"><span class="std std-ref">convertImage movie</span></a> and <a class="reference internal" href="#convertimage-youtube"><span class="std std-ref">convertImage youtube</span></a> use <a class="reference external" href="https://ffmpeg.org">FFmpeg</a> underneath the hood, using a <code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code> that implements this <a class="reference external" href="http://blog.pkh.me/p/21-high-quality-gif-with-ffmpeg.html">tutorial on high quality movie to animated GIF conversion</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A recent <a class="reference external" href="https://medium.com/&#64;Peter_UXer/small-sized-and-beautiful-gifs-with-ffmpeg-25c5082ed733">Medium article</a> describes two ways to produce similarly high quality animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> files.</p>
<ul class="simple">
<li><p>create the animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> from a frame-by-frame list of <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> files, such as those used to create the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file.</p></li>
<li><p>Use <a class="reference external" href="http://www.lcdf.org/gifsicle">Gifsicle</a> to optimize (make smaller but same quality) the initial animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> file.</p></li>
</ul>
<p>I have not yet implemented these improvements into NPRstuff.</p>
</div>
<div class="section" id="convertimage-image">
<span id="id1"></span><h3><span class="section-number">2.2.1. </span>convertImage image<a class="headerlink" href="#convertimage-image" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">image</span></code> <em>tries</em> to use the  <a class="reference external" href="https://cloudconvert.com/apiconsole">CloudConvert REST API</a> to convert <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a> or <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics#Compression">SVGZ</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a>, or <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> images to another <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image. Its help screen, when running <code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">image</span> <span class="pre">-h</span></code>, is,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: convertImage image [-h] -f filename [--width WIDTH] [-F {svg,pdf,png}]</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  -f filename, --filename filename</span>
<span class="go">                        Name of the input image file.</span>
<span class="go">  --width WIDTH         If defined, new width of the file. Optional</span>
<span class="go">  -F {svg,pdf,png}, --format {svg,pdf,png}</span>
<span class="go">                        Format of input file. Must be one of SVG/SVGZ, PDF, or PNG.</span>
</pre></div>
</div>
<p>However, <strong>it currently does not work</strong>. When I run <code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">image</span></code> on <a class="reference download internal" download="" href="_downloads/7b917c539232813b9fc5a433167402e8/cumulative_plot_emission_cropped.pdf"><code class="xref download docutils literal notranslate"><span class="pre">cumulative_plot_emission_cropped.pdf</span></code></a>, here is what I get,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bash$ convertImage image -f cumulative_plot_emission_cropped.pdf</span>
<span class="go">ERROR, CloudConvert sort of pooped the bed. This conversion functionality no longer works. Exiting...</span>
</pre></div>
</div>
<p>Fortunately, <a class="reference external" href="http://manpages.ubuntu.com/manpages/trusty/man1/pdftocairo.1.html">pdftocairo</a> can convert <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> to <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a>, and <a class="reference external" href="http://manpages.ubuntu.com/manpages/focal/en/man1/cairosvg.1.html">cairosvg</a> can convert <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics#Compression">SVGZ</a> to <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a>.</p>
</div>
<div class="section" id="convertimage-movie">
<span id="id2"></span><h3><span class="section-number">2.2.2. </span>convertImage movie<a class="headerlink" href="#convertimage-movie" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">movie</span></code> converts an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file into an animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>. Its help screen, when running <code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">movie</span> <span class="pre">-h</span></code>, is,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: convertImage movie [-h] -f filename [-s scale] [-d PARSER_MOVIE_DIRNAME]</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  -f filename, --filename filename</span>
<span class="go">                        Name of the input video (MP4) file.</span>
<span class="go">  -s scale, --scale scale</span>
<span class="go">                        Multiply the width and height of the input MP4 file into the output GIF. Default is 1.0 (GIF file has same dimensions as input MP4 file).</span>
<span class="go">                        Must be greater than 0.</span>
<span class="go">  -d PARSER_MOVIE_DIRNAME, --dirname PARSER_MOVIE_DIRNAME</span>
<span class="go">                        Optional argument. If defined, the directory into which to store the file.</span>
</pre></div>
</div>
<p>The required flag is <code class="docutils literal notranslate"><span class="pre">-f</span></code> or <code class="docutils literal notranslate"><span class="pre">--filename</span></code>, to specify the input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file. There are two optional flags.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-s</span></code> or <code class="docutils literal notranslate"><span class="pre">--scale</span></code> resizes the width and height of the input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file by some factor. Its default is 1.0, and it must be greater than zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-d</span></code> or <code class="docutils literal notranslate"><span class="pre">--dirname</span></code> specifies the directory into which to store the output animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>. By default, it is the <em>same</em> directory as the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file.</p></li>
</ul>
<p>For example, when we run <code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">movie</span></code> on <a class="reference download internal" download="" href="_downloads/7e08001ad012b85deff6627ed0e42e26/covid19_conus_LATEST.mp4"><code class="xref download docutils literal notranslate"><span class="pre">covid19_conus_LATEST.mp4</span></code></a> (2.6 MB in size) with a scale factor of 0.5 with this command,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">convertImage movie -f covid19_conus_LATEST.mp4 -s 0.5</span>
</pre></div>
</div>
<p>Then we get this animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> in <a class="reference internal" href="#covid19-conus-latest-gif"><span class="std std-numref">Fig. 2.3</span></a> (13M in size).</p>
<div class="figure align-left" id="id11">
<span id="covid19-conus-latest-gif"></span><a class="reference internal image-reference" href="_images/covid19_conus_LATEST.gif"><img alt="_images/covid19_conus_LATEST.gif" src="_images/covid19_conus_LATEST.gif" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.3 </span><span class="caption-text">The animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> of COVID-19 cumulative cases and deaths in the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>, as of 11 February 2021: nearly 27.1 million cases, and over 470k deaths.</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="convertimage-youtube">
<span id="id3"></span><h3><span class="section-number">2.2.3. </span>convertImage youtube<a class="headerlink" href="#convertimage-youtube" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">youtube</span></code> converts a <a class="reference external" href="https://www.youtube.com">YouTube</a> clip into an animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>. It <em>first</em> creates an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file, and then converts that <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file into an animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>. Its help screen, when running <code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">youtube</span> <span class="pre">-h</span></code>, is,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: convertImage youtube [-h] -u url -o output [-q quality] [-d duration] [-s scale]</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  -u url, --url url     YouTube URL of the input video.</span>
<span class="go">  -o output, --output output</span>
<span class="go">                        Name of the output animated GIF file that will be created.</span>
<span class="go">  -q quality, --quality quality</span>
<span class="go">                        The quality of the YouTube clip to download. Only video portion is downloaded. May be one of highest, high, medium, low. Default is highest.</span>
<span class="go">  -d duration, --duration duration</span>
<span class="go">                        Optional argument. If chosen, the duration (in seconds, from beginning) of the video to be converted into an animated GIF.</span>
<span class="go">  -s scale, --scale scale</span>
<span class="go">                        Optional scaling of the input video. Default is 1.0.</span>
</pre></div>
</div>
<p>The two required arguments are <code class="docutils literal notranslate"><span class="pre">-u</span></code> or <code class="docutils literal notranslate"><span class="pre">--url</span></code> (the <a class="reference external" href="https://www.youtube.com">YouTube</a> URL of the input video), and <code class="docutils literal notranslate"><span class="pre">-o</span></code> or <code class="docutils literal notranslate"><span class="pre">--output</span></code> for the name of the output animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>. There are three optional arguments,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-q</span></code> or <code class="docutils literal notranslate"><span class="pre">--quality</span></code> specifies the quality of the <a class="reference external" href="https://www.youtube.com">YouTube</a> clip to download. May be one of <code class="docutils literal notranslate"><span class="pre">highest</span></code>, <code class="docutils literal notranslate"><span class="pre">high</span></code>, <code class="docutils literal notranslate"><span class="pre">medium</span></code>, or <code class="docutils literal notranslate"><span class="pre">low</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">highest</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-d</span></code> or <code class="docutils literal notranslate"><span class="pre">--duration</span></code> specifies the duration (in seconds, from the beginning) of the video to convert into an animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>. If you don’t specify, then it will use the <em>whole</em> video.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-s</span></code> or <code class="docutils literal notranslate"><span class="pre">--scale</span></code> resizes the width and height of the intermediate <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file by some number. Its default is 1.0, and it must be greater than zero.</p></li>
</ul>
<p>So for example, we take this <a class="reference external" href="https://www.youtube.com/watch?v=R-pmYwr8zbU">fun clip from the Lucas Bros. Moving Co.</a>, which we show below,</p>
<div class="youtube_wrapper" style="padding-bottom: 56.250000%; padding-top: 30px; position: relative; width: 100%">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/R-pmYwr8zbU" style="border: 0; height: 100%; left: 0; position: absolute; top: 0; width: 100%">
</iframe></div><p>And run this command,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">convertImage youtube -u &quot;https://www.youtube.com/watch?v=R-pmYwr8zbU&quot; -o &quot;lucas_bros.gif&quot; -q highest -s 0.5</span>
</pre></div>
</div>
<p>to generate a <code class="docutils literal notranslate"><span class="pre">highest</span></code> quality animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>, scaled to <em>half</em> the original size of the <a class="reference external" href="https://www.youtube.com">YouTube</a> clip, into <a class="reference internal" href="#lucas-bros-gif"><span class="std std-numref">Fig. 2.4</span></a> (17M in size).</p>
<div class="figure align-left" id="id12">
<span id="lucas-bros-gif"></span><a class="reference internal image-reference" href="_images/lucas_bros.gif"><img alt="_images/lucas_bros.gif" src="_images/lucas_bros.gif" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.4 </span><span class="caption-text">One of my favorite scenes from <a class="reference external" href="https://www.imdb.com/title/tt3472130/?ref_=ttep_ep3">Lucas Bros. Moving Co. S01E03: Before &amp; After Models</a>. I giggle each time I see it.</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="convertimage-square">
<span id="id4"></span><h3><span class="section-number">2.2.4. </span>convertImage square<a class="headerlink" href="#convertimage-square" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">square</span></code> <em>symmetrically letterboxes</em> a non-square input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file, so that the output <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file is square. If the input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file’s <em>width is greater than its height</em>, the output <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file will have equal height <em>black</em> on the top and bottom so its height matches the input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file’s width. If the input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file’s <em>height is greater than its width</em>, the output <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file will have equal width <em>black</em> on the left and right so its width matches the input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file’s height.</p>
<p>Its help screen, when running <code class="docutils literal notranslate"><span class="pre">convertImage</span> <span class="pre">square</span> <span class="pre">-h</span></code>, is,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: convertImage square [-h] -f filename -o OUTPUTFILENAME</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  -f filename, --filename filename</span>
<span class="go">                        Name of the input video (MP4) file.</span>
<span class="go">  -o OUTPUTFILENAME, --output OUTPUTFILENAME</span>
<span class="go">                        Name of the output MP4 video that will be square.</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">-f</span></code> or <code class="docutils literal notranslate"><span class="pre">--filename</span></code> specifies the input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file. <code class="docutils literal notranslate"><span class="pre">-o</span></code> or <code class="docutils literal notranslate"><span class="pre">--output</span></code> specifies the output file name. Here are two examples.</p>
<ol class="arabic">
<li><p>For an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file wider than it is high, this command,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">convertImage square -f covid19_conus_LATEST.mp4 -o covid19_conus_LATEST_square.mp4</span>
</pre></div>
</div>
<p>Converts <a class="reference download internal" download="" href="_downloads/7e08001ad012b85deff6627ed0e42e26/covid19_conus_LATEST.mp4"><code class="xref download docutils literal notranslate"><span class="pre">covid19_conus_LATEST.mp4</span></code></a> into <a class="reference download internal" download="" href="_downloads/df6e8b82d1eceabaf3097ab87262cf24/covid19_conus_LATEST_square.mp4"><code class="xref download docutils literal notranslate"><span class="pre">covid19_conus_LATEST_square.mp4</span></code></a>, which has black letterboxes on its top and bottom.</p>
</li>
<li><p>For an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file higher than it is wide, this command,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">convertImage square -f covid19_california_LATEST.mp4 -o covid19_california_LATEST_square.mp4</span>
</pre></div>
</div>
<p>Converts <a class="reference download internal" download="" href="_downloads/fc3ee953c0c8283c9fe8fb269c531b62/covid19_california_LATEST.mp4"><code class="xref download docutils literal notranslate"><span class="pre">covid19_california_LATEST.mp4</span></code></a> into <a class="reference download internal" download="" href="_downloads/8aee3dccb7f129f83209dd77dd8b7886/covid19_california_LATEST_square.mp4"><code class="xref download docutils literal notranslate"><span class="pre">covid19_california_LATEST_square.mp4</span></code></a>, which has black letterboxes on its left and right.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="changedates">
<span id="changedates-label"></span><h2><span class="section-number">2.3. </span><code class="docutils literal notranslate"><span class="pre">changedates</span></code><a class="headerlink" href="#changedates" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">changedates</span></code> changes the creation date of <a class="reference external" href="https://en.wikipedia.org/wiki/JPEG">JPEG</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/QuickTime_File_Format">MOV</a> files, that my Canon digital camera creates, by up and down one year. I created this tool because my Canon digital camera does not set the right year on the creation date for image files it creates. This caused problems when I uploaded those images to <a class="reference external" href="https://picasaweb.google.com/home">Google Picasa</a> or <a class="reference external" href="https://plus.google.com/">Google+</a>. The help screen for this command line tool is here,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: changedates [-h] --dirname DIRNAME [--movs] [--minus]</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help         show this help message and exit</span>
<span class="go">  --dirname DIRNAME  Name of the directory to look for jpeg files.</span>
<span class="go">  --movs             If chosen, process MOV files instead.</span>
<span class="go">  --minus            If chosen, subtract a year from the files.</span>
</pre></div>
</div>
</div>
<div class="section" id="music-to-m4a">
<span id="music-to-m4a-label"></span><h2><span class="section-number">2.4. </span><code class="docutils literal notranslate"><span class="pre">music_to_m4a</span></code><a class="headerlink" href="#music-to-m4a" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">music_to_m4a</span></code> can convert a single file from <a class="reference external" href="https://en.wikipedia.org/wiki/MP3">MP3</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Vorbis">OGG</a>, or <a class="reference external" href="https://en.wikipedia.org/wiki/FLAC">FLAC</a> format to <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> format while preserving music file metadata, and can optionally set the total number of album tracks and the album cover if the music files is in an album. It can also rename an m4a music file into the format “<em>artist name</em> - <em>song name</em>.m4a.” The help screen for this command line tool is here,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: music_to_m4a [-h] --inputfile INPUTFILE [--outfile OUTFILE] [--tottracks TOTTRACKS] [--albumloc ALBUMLOC] [--quiet] [--rename] [--notitle]</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --inputfile INPUTFILE</span>
<span class="go">                        Name of the input audio file to convert.</span>
<span class="go">  --outfile OUTFILE     Optional name of the output file.</span>
<span class="go">  --tottracks TOTTRACKS</span>
<span class="go">                        Optional total number of tracks in album of which song is a part.</span>
<span class="go">  --albumloc ALBUMLOC   Optional path to location of the album cover image file. Must be in JPEG or PNG.</span>
<span class="go">  --quiet               If chosen, then verbosely print output of processing.</span>
<span class="go">  --rename              If chosen, simply rename the m4a file to the form &lt;artist&gt;.&lt;song title&gt;.m4a</span>
<span class="go">  --notitle             If chosen, do not use titlecase functionality to fix the titles of songs.</span>
</pre></div>
</div>
</div>
<div class="section" id="download-surahs">
<span id="download-surahs-label"></span><h2><span class="section-number">2.5. </span><code class="docutils literal notranslate"><span class="pre">download_surahs</span></code><a class="headerlink" href="#download-surahs" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">download_surahs</span></code> downloads recorded surahs (<a class="reference external" href="http://quranicaudio.com/quran/109">Abdur-Rashid Sufi</a>) to a directory of your choice. The help screen for this command line tool is here,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: download_surahs [-h] [--outdir OUTDIR]</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help       show this help message and exit</span>
<span class="go">  --outdir OUTDIR  Directory to put this data into. Default is /mnt/software/sources/pythonics/nprstuff.</span>
</pre></div>
</div>
</div>
<div class="section" id="myrst2html">
<h2><span class="section-number">2.6. </span><code class="docutils literal notranslate"><span class="pre">myrst2html</span></code><a class="headerlink" href="#myrst2html" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">myrst2html</span></code> acts <em>almost</em> like <a class="reference external" href="https://manpages.debian.org/testing/docutils-common/rst2html.1.en.html">rst2html</a> in default mode, except instead of using (for LaTeX math formulae) the <code class="docutils literal notranslate"><span class="pre">math.css</span></code> default it uses <a class="reference external" href="https://www.mathjax.org/">MathJax</a> with the correct <a class="reference external" href="https://en.wikipedia.org/wiki/Content_delivery_network">CDN</a>, which in this case is <a class="reference external" href="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML</a>. I borrow shamelessly from <a class="reference external" href="https://gist.github.com/Matherunner/c0397ae11cc72f2f35ae">this GitHub gist</a> with some slight modifications.</p>
<p>One uses it <em>just</em> like default <a class="reference external" href="https://manpages.debian.org/testing/docutils-common/rst2html.1.en.html">rst2html</a>,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">myrst2html filename.rst &gt; filename.html</span>
</pre></div>
</div>
<p>This generates the HTML file, <code class="docutils literal notranslate"><span class="pre">filename.html</span></code>, from the RST markup file, <code class="docutils literal notranslate"><span class="pre">filename.rst</span></code>, but now with <a class="reference external" href="https://www.mathjax.org/">MathJax</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="graphics_functionality.html" class="btn btn-neutral float-right" title="3. Graphics Functionality" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="core_functionality.html" class="btn btn-neutral float-left" title="1. Core Functionality" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Tanim Islam.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>