

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>7. Email APIs &mdash; nprstuff 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="8. My Philosopy on Driving" href="driving.html" />
    <link rel="prev" title="6. Core APIs" href="core_api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> nprstuff
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core_functionality.html">1. Core Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="new_functionality.html">2. New Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphics_functionality.html">3. Graphics Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="oldstuff.html">4. Oldstuff</a></li>
<li class="toctree-l1"><a class="reference internal" href="top_level_api.html">5. Top Level API</a></li>
<li class="toctree-l1"><a class="reference internal" href="core_api.html">6. Core APIs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7. Email APIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.HtmlView"><code class="docutils literal notranslate"><span class="pre">HtmlView</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.HtmlView.reset"><code class="docutils literal notranslate"><span class="pre">HtmlView.reset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.HtmlView.waitUntilReady"><code class="docutils literal notranslate"><span class="pre">HtmlView.waitUntilReady()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.MyHTMLTranslator"><code class="docutils literal notranslate"><span class="pre">MyHTMLTranslator</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.MyHTMLTranslator.mathjax_url"><code class="docutils literal notranslate"><span class="pre">MyHTMLTranslator.mathjax_url</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.check_imgurl_credentials"><code class="docutils literal notranslate"><span class="pre">check_imgurl_credentials()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.check_valid_RST"><code class="docutils literal notranslate"><span class="pre">check_valid_RST()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.convert_string_RST"><code class="docutils literal notranslate"><span class="pre">convert_string_RST()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.format_size"><code class="docutils literal notranslate"><span class="pre">format_size()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.get_imgurl_credentials"><code class="docutils literal notranslate"><span class="pre">get_imgurl_credentials()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.md5sum"><code class="docutils literal notranslate"><span class="pre">md5sum()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.oauthGetGoogleCredentials"><code class="docutils literal notranslate"><span class="pre">oauthGetGoogleCredentials()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.oauth_generate_google_permission_url"><code class="docutils literal notranslate"><span class="pre">oauth_generate_google_permission_url()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.oauth_store_google_credentials"><code class="docutils literal notranslate"><span class="pre">oauth_store_google_credentials()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#nprstuff.npremail.store_imgurl_credentials"><code class="docutils literal notranslate"><span class="pre">store_imgurl_credentials()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#email-module">7.1. email module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.npremail.get_all_email_contacts_dict"><code class="docutils literal notranslate"><span class="pre">get_all_email_contacts_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.npremail.get_email_service"><code class="docutils literal notranslate"><span class="pre">get_email_service()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.npremail.get_people_service"><code class="docutils literal notranslate"><span class="pre">get_people_service()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.npremail.send_collective_email_full"><code class="docutils literal notranslate"><span class="pre">send_collective_email_full()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.npremail.send_email_lowlevel"><code class="docutils literal notranslate"><span class="pre">send_email_lowlevel()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.npremail.send_individual_email_full"><code class="docutils literal notranslate"><span class="pre">send_individual_email_full()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#email-imgur-module">7.2. email_imgur module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_album_name"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.change_album_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_name"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.change_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_candidate_album"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.delete_candidate_album()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_image"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.delete_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_candidate_album_names"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.get_candidate_album_names()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_candidate_albums"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.get_candidate_albums()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_image_md5"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.get_image_md5()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_main_album_name"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.get_main_album_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.refreshImages"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.refreshImages()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.set_main_album"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.set_main_album()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.upload_image"><code class="docutils literal notranslate"><span class="pre">NPRStuffIMGClient.upload_image()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicDelegate"><code class="docutils literal notranslate"><span class="pre">PNGPicDelegate</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicDelegate.createEditor"><code class="docutils literal notranslate"><span class="pre">PNGPicDelegate.createEditor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicDelegate.setEditorData"><code class="docutils literal notranslate"><span class="pre">PNGPicDelegate.setEditorData()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicLabel"><code class="docutils literal notranslate"><span class="pre">PNGPicLabel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicLabel.hasHeightForWidth"><code class="docutils literal notranslate"><span class="pre">PNGPicLabel.hasHeightForWidth()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicLabel.heightForWidth"><code class="docutils literal notranslate"><span class="pre">PNGPicLabel.heightForWidth()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicLabel.resizeEvent"><code class="docutils literal notranslate"><span class="pre">PNGPicLabel.resizeEvent()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicObject"><code class="docutils literal notranslate"><span class="pre">PNGPicObject</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicObject.b64String"><code class="docutils literal notranslate"><span class="pre">PNGPicObject.b64String()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicObject.changeName"><code class="docutils literal notranslate"><span class="pre">PNGPicObject.changeName()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicObject.createPNGPicObjects"><code class="docutils literal notranslate"><span class="pre">PNGPicObject.createPNGPicObjects()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicObject.getInfoGUI"><code class="docutils literal notranslate"><span class="pre">PNGPicObject.getInfoGUI()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicQSortFilterModel"><code class="docutils literal notranslate"><span class="pre">PNGPicQSortFilterModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicQSortFilterModel.filterAcceptsRow"><code class="docutils literal notranslate"><span class="pre">PNGPicQSortFilterModel.filterAcceptsRow()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableModel"><code class="docutils literal notranslate"><span class="pre">PNGPicTableModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.columnCount"><code class="docutils literal notranslate"><span class="pre">PNGPicTableModel.columnCount()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.data"><code class="docutils literal notranslate"><span class="pre">PNGPicTableModel.data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.flags"><code class="docutils literal notranslate"><span class="pre">PNGPicTableModel.flags()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.headerData"><code class="docutils literal notranslate"><span class="pre">PNGPicTableModel.headerData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.rowCount"><code class="docutils literal notranslate"><span class="pre">PNGPicTableModel.rowCount()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.setData"><code class="docutils literal notranslate"><span class="pre">PNGPicTableModel.setData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.sort"><code class="docutils literal notranslate"><span class="pre">PNGPicTableModel.sort()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableView"><code class="docutils literal notranslate"><span class="pre">PNGPicTableView</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableView.contextMenuEvent"><code class="docutils literal notranslate"><span class="pre">PNGPicTableView.contextMenuEvent()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGPicTableView.resizeEvent"><code class="docutils literal notranslate"><span class="pre">PNGPicTableView.resizeEvent()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nprstuff.npremail.email_imgur.PNGWidget"><code class="docutils literal notranslate"><span class="pre">PNGWidget</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="driving.html">8. My Philosopy on Driving</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">nprstuff</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">7. </span>Email APIs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/email_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="email-apis">
<h1><span class="section-number">7. </span>Email APIs<a class="headerlink" href="#email-apis" title="Permalink to this heading">¶</a></h1>
<p>This document describes the nprstuff email API, which provides the lower-level back-end functionality for <code class="docutils literal notranslate"><span class="pre">rest_email</span></code>. These modules live in <code class="docutils literal notranslate"><span class="pre">nprstuff.npremail</span></code>.</p>
<p>The main module implements a <em>bunch</em> of different things</p>
<ul class="simple">
<li><p>validating and converting <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a> strings to rich HTML.</p></li>
<li><p>doing stuff with <a class="reference external" href="https://imgur.com">Imgur</a> credentials.</p></li>
<li><p>doing stuff with Google OAuth2 authentication to services that will send email, and get google contacts, using Google’s APIs.</p></li>
<li><p>A single convenience widget, <a class="reference internal" href="#nprstuff.npremail.HtmlView" title="nprstuff.npremail.HtmlView"><code class="xref py py-class docutils literal notranslate"><span class="pre">HtmlView</span></code></a>, that acts as a rudimentary browser that can display rich HTML.</p></li>
</ul>
<span class="target" id="module-nprstuff.npremail"></span><dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.HtmlView">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">HtmlView</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">htmlString</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.HtmlView" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenient <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5">PyQt5</a> widget that displays rich and interactive HTML (HTML with CSS and Javascript). This extends <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtwebenginewidgets/qwebengineview.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QWebEngineView</span></code></a>. This defines new actions, with shortcuts, to move <em>forward</em> one page, <em>backward</em> one page, or <em>reset</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> – the controlling <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtwidgets/qwidget.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code></a>, if any.</p></li>
<li><p><strong>htmlString</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the input initial rich HTML.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>initHTMLString</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – this widget has the ability to <em>reset</em> to the initial HTML web page used to construct it. This attribute stores that rich HTML as a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.HtmlView.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.HtmlView.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverts to the initial website.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.HtmlView.waitUntilReady">
<span class="sig-name descname"><span class="pre">waitUntilReady</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.HtmlView.waitUntilReady" title="Permalink to this definition">¶</a></dt>
<dd><p>A subordinate process that loads all website elements (CSS and Javascript) until done.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.MyHTMLTranslator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">MyHTMLTranslator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">document</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.MyHTMLTranslator" title="Permalink to this definition">¶</a></dt>
<dd><p>I am copying this code <em>without</em> any real understanding from <a class="reference external" href="https://gist.github.com/Matherunner/c0397ae11cc72f2f35ae">this GitHub gist</a>. This class seems to extend <code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLTranslator</span></code>, but I don’t know what that means.</p>
<p>The usage in that gist is as follows, because the gist is an enhancement of <code class="docutils literal notranslate"><span class="pre">rst2html.py</span></code> called <code class="docutils literal notranslate"><span class="pre">myrst2html.py</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">htmlwriter</span> <span class="o">=</span> <span class="n">Writer</span><span class="p">()</span>
<span class="n">htmlwriter</span><span class="o">.</span><span class="n">translator_class</span> <span class="o">=</span> <span class="n">MyHTMLTranslator</span>
<span class="n">publish_cmdline</span><span class="p">(</span><span class="n">writer</span><span class="o">=</span><span class="n">htmlwriter</span><span class="p">)</span>
</pre></div>
</div>
<p>I imagine I will have to modify the methods <a class="reference internal" href="#nprstuff.npremail.check_valid_RST" title="nprstuff.npremail.check_valid_RST"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check_valid_RST</span></code></a> and <a class="reference internal" href="#nprstuff.npremail.convert_string_RST" title="nprstuff.npremail.convert_string_RST"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert_string_RST</span></code></a> to represent more <em>correct</em> functionality. There, I am following what I inferred from <code class="xref py py-meth docutils literal notranslate"><span class="pre">publish_parts</span></code> and the included code block in this object’s description.</p>
<blockquote>
<div></div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py" id="nprstuff.npremail.MyHTMLTranslator.mathjax_url">
<span class="sig-name descname"><span class="pre">mathjax_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://cdn.jsdelivr.net/npm/mathjax&#64;3/es5/tex-mml-chtml.js'</span></em><a class="headerlink" href="#nprstuff.npremail.MyHTMLTranslator.mathjax_url" title="Permalink to this definition">¶</a></dt>
<dd><p>URL of the MathJax javascript library.</p>
<p>The MathJax library ought to be installed on the same
server as the rest of the deployed site files and specified
in the <cite>math-output</cite> setting appended to “mathjax”.
See <a class="reference external" href="http://docutils.sourceforge.net/docs/user/config.html#math-output">Docutils Configuration</a>.</p>
<p>The fallback tries a local MathJax installation at
<code class="docutils literal notranslate"><span class="pre">/usr/share/javascript/mathjax/MathJax.js</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.check_imgurl_credentials">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">check_imgurl_credentials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clientID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clientSECRET</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clientREFRESHTOKEN</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.check_imgurl_credentials" title="Permalink to this definition">¶</a></dt>
<dd><p>validate the <a class="reference external" href="https://imgur.com">Imgur</a> API credentials with the provided API client ID, secret, and refresh token.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clientID</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://imgur.com">Imgur</a> client ID.</p></li>
<li><p><strong>clientSECRET</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://imgur.com">Imgur</a> client secret.</p></li>
<li><p><strong>clientREFRESHTOKEN</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://imgur.com">Imgur</a> client refresh token.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether the new credentials are correct.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.npremail.get_imgurl_credentials" title="nprstuff.npremail.get_imgurl_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_imgurl_credentials</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.store_imgurl_credentials" title="nprstuff.npremail.store_imgurl_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_imgurl_credentials</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.check_valid_RST">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">check_valid_RST</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myString</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_mathjax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.check_valid_RST" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to see whether the input string is valid <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>myString</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the candidate <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a> input.</p></li>
<li><p><strong>use_mathjax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use <a class="reference external" href="https://www.mathjax.org">MathJax</a> for math formulae. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if valid, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.npremail.convert_string_RST" title="nprstuff.npremail.convert_string_RST"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert_string_RST</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.convert_string_RST">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">convert_string_RST</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myString</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_mathjax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.convert_string_RST" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a valid <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a> input string into rich HTML.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>myString</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the candidate <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a> input.</p></li>
<li><p><strong>use_mathjax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use <a class="reference external" href="https://www.mathjax.org">MathJax</a> for math formulae. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If the input string is valid <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a>, returns the rich HTML as a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a>. Otherwise emits a <code class="xref py py-meth docutils literal notranslate"><span class="pre">logging</span> <span class="pre">error</span> <span class="pre">message</span></code> and returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.npremail.check_valid_RST" title="nprstuff.npremail.check_valid_RST"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check_valid_RST</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.format_size">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">format_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fsize_b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.format_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats the bytes value into a string with KiB, MiB or GiB units. This code has been copied from <code class="xref py py-meth docutils literal notranslate"><span class="pre">deluge's</span> <span class="pre">format_size</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fsize_b</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the filesize in bytes.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted string in KiB, MiB or GiB units.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
<p><strong>Usage</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_size</span><span class="p">(</span> <span class="mi">112245</span> <span class="p">)</span>
<span class="go">&#39;109.6 KiB&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.get_imgurl_credentials">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">get_imgurl_credentials</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.get_imgurl_credentials" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the <a class="reference external" href="https://imgur.com">Imgur</a> API credentials from the <a class="reference external" href="https://en.wikipedia.org/wiki/SQLite">SQLite3</a> configuration database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of the <a class="reference external" href="https://imgur.com">Imgur</a> API credentials. Its structure is,</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s1">&#39;clientID&#39;</span><span class="p">:</span> <span class="n">XXXX</span><span class="p">,</span>
  <span class="s1">&#39;clientSECRET&#39;</span><span class="p">:</span> <span class="n">XXXX</span><span class="p">,</span>
  <span class="s1">&#39;clientREFRESHTOKEN&#39;</span><span class="p">:</span> <span class="n">XXXX</span><span class="p">,</span>
  <span class="s1">&#39;mainALBUMID&#39;</span><span class="p">:</span> <span class="n">XXXX</span><span class="p">,</span>
  <span class="s1">&#39;mainALBUMTITLE&#39;</span><span class="p">:</span> <span class="n">XXXX</span> <span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.npremail.check_imgurl_credentials" title="nprstuff.npremail.check_imgurl_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check_imgurl_credentials</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.store_imgurl_credentials" title="nprstuff.npremail.store_imgurl_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_imgurl_credentials</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.md5sum">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">md5sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.md5sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Taken from <a class="reference external" href="https://stackoverflow.com/a/7829658/3362358">This StackOverflow</a> on how to calculate the <a class="reference external" href="https://en.wikipedia.org/wiki/MD5">MD5</a> sum of a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the candidate file’s name to open.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an MD5 hash of the file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.oauthGetGoogleCredentials">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">oauthGetGoogleCredentials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.oauthGetGoogleCredentials" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the <a class="reference external" href="https://developers.google.com/identity/protocols/oauth2">Google Oauth2</a> credentials, stored in the <a class="reference external" href="https://en.wikipedia.org/wiki/SQLite">SQLite3</a> configuration database, in the form of a refreshed <a class="reference external" href="https://google-auth.readthedocs.io/en/latest/reference/google.oauth2.credentials.html#google.oauth2.credentials.Credentials" title="(in google-auth v1.30.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Credentials</span></code></a> object. This OAuth2 authentication method is used for ALL the services accessed by <a class="reference external" href="https://nprstuff.readthedocs.io">NPRStuff</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://google-auth.readthedocs.io/en/latest/reference/google.oauth2.credentials.html#google.oauth2.credentials.Credentials" title="(in google-auth v1.30.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Credentials</span></code></a> form of the <a class="reference external" href="https://developers.google.com/identity/protocols/oauth2">Google Oauth2</a> credentials for various OAuth2 services.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://google-auth.readthedocs.io/en/latest/reference/google.oauth2.credentials.html#google.oauth2.credentials.Credentials" title="(in google-auth v1.30.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Credentials</span></code></a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">oauthCheckGoogleCredentials</span></code>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.oauth_generate_google_permission_url" title="nprstuff.npremail.oauth_generate_google_permission_url"><code class="xref py py-meth docutils literal notranslate"><span class="pre">oauth_generate_google_permission_url</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.oauth_store_google_credentials" title="nprstuff.npremail.oauth_store_google_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">oauth_store_google_credentials</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.oauth_generate_google_permission_url">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">oauth_generate_google_permission_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.oauth_generate_google_permission_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a <a class="reference external" href="https://developers.google.com/identity/protocols/oauth2">Google OAuth2</a> web-based flow for all the Google services used in <a class="reference external" href="https://nprstuff.readthedocs.io">NPRStuff</a>. The authentication process that uses this flow is described in <a class="reference external" href="https://tanimislam.github.io/howdy/howdy-config/howdy_services_config.html#summary-of-setting-up-google-credentials">this subsection</a>. Here are the programmatic steps to finally generate an <a class="reference external" href="https://google-auth.readthedocs.io/en/latest/reference/google.oauth2.credentials.html#google.oauth2.credentials.Credentials" title="(in google-auth v1.30.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Credentials</span></code></a> object.</p>
<ol class="arabic">
<li><p>Get the <a class="reference external" href="https://google-auth-oauthlib.readthedocs.io/en/latest/reference/google_auth_oauthlib.flow.html#google_auth_oauthlib.flow.Flow" title="(in google-auth-oauthlib v0.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a> and authentication URI.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">flow</span><span class="p">,</span> <span class="n">auth_uri</span> <span class="o">=</span> <span class="n">oauth_generate_google_permission_url</span><span class="p">(</span> <span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Go to the URL, <code class="docutils literal notranslate"><span class="pre">auth_uri</span></code>, in a browser, grant permissions, and copy the authorization code in the browser window. This authorization code is referred to as <code class="docutils literal notranslate"><span class="pre">authorization_code</span></code>.</p></li>
<li><p>Create the <a class="reference external" href="https://google-auth.readthedocs.io/en/latest/reference/google.oauth2.credentials.html#google.oauth2.credentials.Credentials" title="(in google-auth v1.30.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Credentials</span></code></a> using <code class="docutils literal notranslate"><span class="pre">authorization_code</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fetch_token</span><span class="p">(</span> <span class="n">code</span> <span class="o">=</span> <span class="n">authorization_code</span> <span class="p">)</span>
<span class="n">credentials</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">credentials</span>
</pre></div>
</div>
</li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of two elements. The first element is a <a class="reference external" href="https://google-auth-oauthlib.readthedocs.io/en/latest/reference/google_auth_oauthlib.flow.html#google_auth_oauthlib.flow.Flow" title="(in google-auth-oauthlib v0.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a> web server flow object. The second element is the redirection URI <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a> that redirects the user to begin the authorization flow.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">oauthCheckGoogleCredentials</span></code>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.oauthGetGoogleCredentials" title="nprstuff.npremail.oauthGetGoogleCredentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">oauthGetGoogleCredentials</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.oauth_store_google_credentials" title="nprstuff.npremail.oauth_store_google_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">oauth_store_google_credentials</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.oauth_store_google_credentials">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">oauth_store_google_credentials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">credentials</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.oauth_store_google_credentials" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the form of a <a class="reference external" href="https://google-auth.readthedocs.io/en/latest/reference/google.oauth2.credentials.html#google.oauth2.credentials.Credentials" title="(in google-auth v1.30.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Credentials</span></code></a> object, as a JSON string, into the <a class="reference external" href="https://en.wikipedia.org/wiki/SQLite">SQLite3</a> configuration database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>credentials</strong> – the <a class="reference external" href="https://google-auth.readthedocs.io/en/latest/reference/google.oauth2.credentials.html#google.oauth2.credentials.Credentials" title="(in google-auth v1.30.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Credentials</span></code></a> object to store into the database.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">oauthCheckGoogleCredentials</span></code>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.oauthGetGoogleCredentials" title="nprstuff.npremail.oauthGetGoogleCredentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">oauthGetGoogleCredentials</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.oauth_generate_google_permission_url" title="nprstuff.npremail.oauth_generate_google_permission_url"><code class="xref py py-meth docutils literal notranslate"><span class="pre">oauth_generate_google_permission_url</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.store_imgurl_credentials">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.</span></span><span class="sig-name descname"><span class="pre">store_imgurl_credentials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clientID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clientSECRET</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clientREFRESHTOKEN</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mainALBUMID</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mainALBUMNAME</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.store_imgurl_credentials" title="Permalink to this definition">¶</a></dt>
<dd><p>stores the <a class="reference external" href="https://imgur.com">Imgur</a> API credentials into the <a class="reference external" href="https://en.wikipedia.org/wiki/SQLite">SQLite3</a> configuration database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clientID</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://imgur.com">Imgur</a> client ID.</p></li>
<li><p><strong>clientSECRET</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://imgur.com">Imgur</a> client secret.</p></li>
<li><p><strong>clientREFRESHTOKEN</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://imgur.com">Imgur</a> client refresh token.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>mainALBUMID</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – optional argument. If given, then store this album hash into the database.</p></li>
<li><p><strong>mainALBUMNAME</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – optional argument. If given, then store this album hash into the database.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the string <code class="docutils literal notranslate"><span class="pre">&quot;SUCCESS&quot;</span></code> if could store the new <a class="reference external" href="https://imgur.com">Imgur</a> credentials. Otherwise, the string <code class="docutils literal notranslate"><span class="pre">'ERROR,</span> <span class="pre">COULD</span> <span class="pre">NOT</span> <span class="pre">STORE</span> <span class="pre">IMGURL</span> <span class="pre">CREDENTIALS.'</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.npremail.check_imgurl_credentials" title="nprstuff.npremail.check_imgurl_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check_imgurl_credentials</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.get_imgurl_credentials" title="nprstuff.npremail.get_imgurl_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_imgurl_credentials</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<div class="section" id="email-module">
<h2><span class="section-number">7.1. </span>email module<a class="headerlink" href="#email-module" title="Permalink to this heading">¶</a></h2>
<p>This module contains common utilities to retrieve contacts, craft email, and send email. This module lives in <code class="docutils literal notranslate"><span class="pre">nprstuff.npremail.npremail</span></code>.</p>
<span class="target" id="module-nprstuff.npremail.npremail"></span><dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.npremail.get_all_email_contacts_dict">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.npremail.</span></span><span class="sig-name descname"><span class="pre">get_all_email_contacts_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">people_service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pagesize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.npremail.get_all_email_contacts_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <em>all</em> the Google contacts using the <a class="reference external" href="https://developers.google.com/contacts/v3">Google Contacts API</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>people_service</strong> – optional argument, the <code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code> representing the Google people service used to retrieve one’s Google contacts. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then generated here.</p></li>
<li><p><strong>pagesize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – optional argument, the <em>maximum</em> number of candidate contacts to search through. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of contacts. The key is the contact name, and the value is the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of email addresses for that contact.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.npremail.get_email_service">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.npremail.</span></span><span class="sig-name descname"><span class="pre">get_email_service</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.npremail.get_email_service" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns a working <code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code> representing the Google email service used to send and receive emails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code> representing the Google email service used to send and receive emails.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.npremail.get_people_service">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.npremail.</span></span><span class="sig-name descname"><span class="pre">get_people_service</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.npremail.get_people_service" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns a working <code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code> representing the Google people service used to get a list of one’s Google contacts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code> representing the Google people service.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.npremail.send_collective_email_full">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.npremail.</span></span><span class="sig-name descname"><span class="pre">send_collective_email_full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mainHTML</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromEmail</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_emails</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cc_emails</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bcc_emails</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email_service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attachments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.npremail.send_collective_email_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the HTML email to the following <code class="docutils literal notranslate"><span class="pre">TO</span></code> recipients, <code class="docutils literal notranslate"><span class="pre">CC</span></code> recipients, and <code class="docutils literal notranslate"><span class="pre">BCC</span></code> recipients altogether. It uses the <a class="reference external" href="https://developers.google.com/gmail/api">GMail API</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mainHTML</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the email body as an HTML <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a> document.</p></li>
<li><p><strong>subject</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the email subject.</p></li>
<li><p><strong>fromEmail</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://tools.ietf.org/html/rfc2047.html">RFC 2047</a> sender’s email with name.</p></li>
<li><p><strong>to_emails</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.11)"><em>set</em></a>) – the <a class="reference external" href="https://tools.ietf.org/html/rfc2047.html">RFC 2047</a> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of <code class="docutils literal notranslate"><span class="pre">TO</span></code> recipients.</p></li>
<li><p><strong>cc_emails</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.11)"><em>set</em></a>) – the <a class="reference external" href="https://tools.ietf.org/html/rfc2047.html">RFC 2047</a> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of <code class="docutils literal notranslate"><span class="pre">CC</span></code> recipients.</p></li>
<li><p><strong>bcc_emails</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.11)"><em>set</em></a>) – the <a class="reference external" href="https://tools.ietf.org/html/rfc2047.html">RFC 2047</a> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of <code class="docutils literal notranslate"><span class="pre">BCC</span></code> recipients.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>email_service</strong> – optional argument, the <code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code> representing the Google email service used to send and receive emails. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then generated here.</p></li>
<li><p><strong>attachments</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a>) – the collection of attachments to send out.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.npremail.send_email_lowlevel">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.npremail.</span></span><span class="sig-name descname"><span class="pre">send_email_lowlevel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email_service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.npremail.send_email_lowlevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends out an email using the <a class="reference external" href="https://developers.google.com/contacts/v3">Google Contacts API</a>. If process is unsuccessfull, prints out an error message, <code class="docutils literal notranslate"><span class="pre">&quot;problem</span> <span class="pre">with</span> <span class="pre">&lt;TO-EMAIL&gt;&quot;</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;TO-EMAIL&gt;</span></code> is the recipient’s email address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<em>MIMEMultiPart</em>) – the <code class="xref py py-class docutils literal notranslate"><span class="pre">MIMEMultiPart</span></code> email message to send. At a high level, this is an email with body, sender, recipients, and optional attachments.</p></li>
<li><p><strong>email_service</strong> – optional argument, the <code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code> representing the Google email service used to send and receive emails. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then generated here.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>userId</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – The user ID to send email as, using the Google Mail API. Can be an <a class="reference external" href="https://tools.ietf.org/html/rfc2047.html">RFC 2047</a> sender’s email with name, but default is <code class="docutils literal notranslate"><span class="pre">me</span></code>. See <a class="reference external" href="https://developers.google.com/gmail/api/reference/rest/v1/users.messages/send">this page</a> for info on method signature.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_email_service</span></code>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nprstuff.npremail.npremail.send_individual_email_full">
<span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.npremail.</span></span><span class="sig-name descname"><span class="pre">send_individual_email_full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mainHTML</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emailAddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attach</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attachName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attachType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'txt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email_service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.npremail.send_individual_email_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the HTML email, with optional <em>single</em> attachment, to a single recipient email address, using the <a class="reference external" href="https://developers.google.com/gmail/api">GMail API</a>. Unlike <code class="xref py py-meth docutils literal notranslate"><span class="pre">send_individual_email_full_withsingleattach</span></code>, the attachment type is <em>also</em> set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mainHTML</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the email body as an HTML <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> document.</p></li>
<li><p><strong>subject</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the email subject.</p></li>
<li><p><strong>emailAddress</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the recipient email address.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – optional argument. If given, the recipient’s name.</p></li>
<li><p><strong>mydate</strong> (<em>date</em>) – optional argument. The <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> at which the email is sent. Default is <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime.now" title="(in Python v3.11)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">now(</span> <span class="pre">)</span></code></a>.</p></li>
<li><p><strong>attach</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – optional argument. If defined, the <a class="reference external" href="https://en.wikipedia.org/wiki/Base64">Base64</a> encoded attachment.</p></li>
<li><p><strong>attachName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – optional argument. The <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of attachment names, if there is an attachment. If defined, then <code class="docutils literal notranslate"><span class="pre">attachData</span></code> must also be defined.</p></li>
<li><p><strong>attachType</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the attachment type. Default is <code class="docutils literal notranslate"><span class="pre">txt</span></code>.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>email_service</strong> – optional argument, the <code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code> representing the Google email service used to send and receive emails. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then generated here.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="email-imgur-module">
<h2><span class="section-number">7.2. </span>email_imgur module<a class="headerlink" href="#email-imgur-module" title="Permalink to this heading">¶</a></h2>
<p>This module hooks into the <a class="reference external" href="https://imgur.com">Imgur</a> account, and the albums and images in albums, that it contains. It also implements widgets in <code class="docutils literal notranslate"><span class="pre">rest_email</span></code> that manipulate the images in one’s <a class="reference external" href="https://imgur.com">Imgur</a> album. This module lives in <code class="docutils literal notranslate"><span class="pre">nprstuff.npremail.email_imgur</span></code>.</p>
<span class="target" id="module-nprstuff.npremail.email_imgur"></span><dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.email_imgur.</span></span><span class="sig-name descname"><span class="pre">NPRStuffIMGClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_imgurl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient" title="Permalink to this definition">¶</a></dt>
<dd><p>This object contains and implements the collection of images located in a single main album in the <a class="reference external" href="https://imgur.com">Imgur</a> account. This uses the <a class="reference external" href="https://imgur.com">Imgur</a> API to peform all operations. This object is constructed using <a class="reference external" href="https://imgur.com">Imgur</a> credentials – the client ID, secret, and refresh token – stored in the <a class="reference external" href="https://en.wikipedia.org/wiki/SQLite">SQLite3</a> configuration database, and stores the following attributes: the client ID, secret, refresh token, and the <em>access token</em> used for API access to your <a class="reference external" href="https://imgur.com">Imgur</a> album and images.</p>
<p>If the <a class="reference external" href="https://imgur.com">Imgur</a> albums cannot be accessed, or there are no albums, then <code class="docutils literal notranslate"><span class="pre">self.albumID</span> <span class="pre">=</span> <span class="pre">None</span></code>, the <code class="docutils literal notranslate"><span class="pre">self.imgHashes</span></code> is an empty <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p>
<p>The main album ID is stored as a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a> in the <a class="reference external" href="https://imgur.com">Imgur</a> configuration under the <code class="docutils literal notranslate"><span class="pre">mainALBUMID</span></code> key, if it exists; otherwise the <a class="reference external" href="https://imgur.com">Imgur</a> configuration dictionary does not have a <code class="docutils literal notranslate"><span class="pre">mainALBUMID</span></code> key.</p>
<ul class="simple">
<li><p>If there is no main album ID defined, or if there is no album with that ID, then we choose the first album found, and reset the <a class="reference external" href="https://imgur.com">Imgur</a> configuration data into the <a class="reference external" href="https://en.wikipedia.org/wiki/SQLite">SQLite3</a> database with this album ID and name.</p></li>
<li><p>If the configured album exists in our <a class="reference external" href="https://imgur.com">Imgur</a> library, then continue with this the main album.</p></li>
</ul>
<p>Once the main album is found, populate <code class="docutils literal notranslate"><span class="pre">self.imghashes</span></code> with all the pictures in this album. The pictures in an album in our <a class="reference external" href="https://imgur.com">Imgur</a> account are expected to be filled through methods in this object.</p>
<ul class="simple">
<li><p>The key is the <a class="reference external" href="https://en.wikipedia.org/wiki/MD5">MD5</a> hash of the image in that library.</p></li>
<li><p>The value is a four element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>: image name, image ID, the URL link to this image, and the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> at which the image was uploaded.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>data_imgurl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a>) – optional argument. If defined, must have the following keys: <code class="docutils literal notranslate"><span class="pre">clientID</span></code>, <code class="docutils literal notranslate"><span class="pre">clientSECRET</span></code>, and <code class="docutils literal notranslate"><span class="pre">clientREFRESHTOKEN</span></code>. Must be consistent with <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> returned by <a class="reference internal" href="#nprstuff.npremail.get_imgurl_credentials" title="nprstuff.npremail.get_imgurl_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_imgurl_credentials</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – whether to verify SSL connections.</p></li>
<li><p><strong>access_token</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the persistent API access token to the user’s <a class="reference external" href="https://imgur.com">Imgur</a> account.</p></li>
<li><p><strong>clientID</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://imgur.com">Imgur</a> client ID.</p></li>
<li><p><strong>clientSECRET</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://imgur.com">Imgur</a> client secret.</p></li>
<li><p><strong>albumID</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the hashed name of the main album.</p></li>
<li><p><strong>imghashes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a>) – the structure of images stored in the main album.</p></li>
</ul>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – if images in the new album cannot be accessed.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">refreshImages</span></code>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_album_name">
<span class="sig-name descname"><span class="pre">change_album_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_album_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_album_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the main album name to a new name, only if the new name is different from the old name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_album_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the new name to change the main <a class="reference external" href="https://imgur.com">Imgur</a> album.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">refreshImages</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_name">
<span class="sig-name descname"><span class="pre">change_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imgMD5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the name of an image in the main <a class="reference external" href="https://imgur.com">Imgur</a> library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>imgMD5</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – this is the <a class="reference external" href="https://en.wikipedia.org/wiki/MD5">MD5</a> hash of the image in the main <a class="reference external" href="https://imgur.com">Imgur</a> library.</p></li>
<li><p><strong>new_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the new name to give this image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if image could be found and its name changed. Otherwise returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.upload_image" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient.upload_image"><code class="xref py py-meth docutils literal notranslate"><span class="pre">upload_image</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_image" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_image"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_image</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_candidate_album">
<span class="sig-name descname"><span class="pre">delete_candidate_album</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">candidate_album_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_candidate_album" title="Permalink to this definition">¶</a></dt>
<dd><p>This deletes the candidate album from the <a class="reference external" href="https://imgur.com">Imgur</a> account. This album with that name must exist in the <a class="reference external" href="https://imgur.com">Imgur</a> account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>candidate_album_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the name of the album to remove, with its underlying images.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">refreshImages</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_image">
<span class="sig-name descname"><span class="pre">delete_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b64img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imgMD5</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes an image from the main <a class="reference external" href="https://imgur.com">Imgur</a> library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>b64img</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://en.wikipedia.org/wiki/Base64">Base64</a> representation of the image.</p></li>
<li><p><strong>imgMD5</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – optional argument. This is the <a class="reference external" href="https://en.wikipedia.org/wiki/MD5">MD5</a> hash of the image. If not provided, this is calculated for that image represented by <code class="docutils literal notranslate"><span class="pre">b64img</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if image can be found and returned. Otherwise returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.upload_image" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient.upload_image"><code class="xref py py-meth docutils literal notranslate"><span class="pre">upload_image</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_name" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">change_name</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_candidate_album_names">
<span class="sig-name descname"><span class="pre">get_candidate_album_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_candidate_album_names" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of album names in the <a class="reference external" href="https://imgur.com">Imgur</a> account. <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_main_album</span></code> can use this method to determine the valid album name to choose.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_candidate_albums</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_candidate_albums">
<span class="sig-name descname"><span class="pre">get_candidate_albums</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_candidate_albums" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of album information, organized by album name. Each key in the top-level dictionary is the album name. Each value is a lower level dictionary: the <code class="docutils literal notranslate"><span class="pre">id</span></code> key is the album ID, and the <code class="docutils literal notranslate"><span class="pre">images</span></code> key is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of low-level <a class="reference external" href="https://imgur.com">Imgur</a> image information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_image_md5">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_image_md5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_image_md5" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://en.wikipedia.org/wiki/MD5">MD5</a> hash of the image.</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>image</strong> (<a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/plugins.html#PIL.PngImagePlugin.PngImageFile" title="(in Pillow (PIL Fork) v9.3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PngImageFile</span></code></a>) – the native Pillow PNG image object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_main_album_name">
<span class="sig-name descname"><span class="pre">get_main_album_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.get_main_album_name" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the name of the main <a class="reference external" href="https://imgur.com">Imgur</a> album, if albums exist on this account. Otherwise returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.refreshImages">
<span class="sig-name descname"><span class="pre">refreshImages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.refreshImages" title="Permalink to this definition">¶</a></dt>
<dd><p>Refreshes the collection of images in the main <a class="reference external" href="https://imgur.com">Imgur</a> album, by filling out <code class="docutils literal notranslate"><span class="pre">self.imghashes</span></code>. The pictures in an album in our <a class="reference external" href="https://imgur.com">Imgur</a> account are expected to be filled through methods in this object.</p>
<ul class="simple">
<li><p>The key is the <a class="reference external" href="https://en.wikipedia.org/wiki/MD5">MD5</a> hash of the image in that library.</p></li>
<li><p>The value is a four element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>: image name, image ID, the URL link to this image, and the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> at which the image was uploaded.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.set_main_album">
<span class="sig-name descname"><span class="pre">set_main_album</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_album_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.set_main_album" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets or changes the main <a class="reference external" href="https://imgur.com">Imgur</a> album used for storing and displaying images to a new album name. If <code class="docutils literal notranslate"><span class="pre">new_album_name</span></code> exists in the <a class="reference external" href="https://imgur.com">Imgur</a> account, then sets that name. If <code class="docutils literal notranslate"><span class="pre">new_album_name</span></code> does not exist, then creates this new <a class="reference external" href="https://imgur.com">Imgur</a> album.</p>
<p>Once this album is set or created,</p>
<ul class="simple">
<li><p>sets the new <a class="reference external" href="https://imgur.com">Imgur</a> credentials using <a class="reference internal" href="#nprstuff.npremail.store_imgurl_credentials" title="nprstuff.npremail.store_imgurl_credentials"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_imgur_credentials</span></code></a>.</p></li>
<li><p>populates <code class="docutils literal notranslate"><span class="pre">self.imghashes</span></code> with all the images found in this library. If the album does not exist, then <code class="docutils literal notranslate"><span class="pre">self.imghashes</span></code> is an empty <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_album_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the new name of the <a class="reference external" href="https://imgur.com">Imgur</a> album to use for images.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – if images in the new album cannot be accessed.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">refreshImages</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.NPRStuffIMGClient.upload_image">
<span class="sig-name descname"><span class="pre">upload_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b64img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imgMD5</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.upload_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads a <a class="reference external" href="https://en.wikipedia.org/wiki/Base64">Base64</a> encoded file into the main <a class="reference external" href="https://imgur.com">Imgur</a> album. If the image exists, then returns information (from <code class="docutils literal notranslate"><span class="pre">self.imghashes</span></code>) about the file. If not, create it, put it into <code class="docutils literal notranslate"><span class="pre">self.imghashes</span></code>, and then return its information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>b64img</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://en.wikipedia.org/wiki/Base64">Base64</a> representation of the image.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – name of the image.</p></li>
<li><p><strong>imgMD5</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – optional argument. This is the <a class="reference external" href="https://en.wikipedia.org/wiki/MD5">MD5</a> hash of the image. If not provided, this is calculated for that image represented by <code class="docutils literal notranslate"><span class="pre">b64img</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a 4-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>: image name, image ID, the URL link to this image, and the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> at which the image was uploaded.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.refreshImages" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient.refreshImages"><code class="xref py py-meth docutils literal notranslate"><span class="pre">refreshImages</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_image" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient.delete_image"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_image</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_name" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient.change_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">change_name</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicDelegate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.email_imgur.</span></span><span class="sig-name descname"><span class="pre">PNGPicDelegate</span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicDelegate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicDelegate.createEditor">
<span class="sig-name descname"><span class="pre">createEditor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QWidget</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QStyleOptionViewItem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QModelIndex</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">QWidget</span></span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicDelegate.createEditor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicDelegate.setEditorData">
<span class="sig-name descname"><span class="pre">setEditorData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QWidget</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QModelIndex</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicDelegate.setEditorData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicLabel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.email_imgur.</span></span><span class="sig-name descname"><span class="pre">PNGPicLabel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicLabel" title="Permalink to this definition">¶</a></dt>
<dd><p>This class that extends <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtwidgets/qlabel.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QLabel</span></code></a> follows advice from <a class="reference external" href="https://stackoverflow.com/a/30553468/3362358">this StackOverflow article</a>. This object also generates its own <code class="xref py py-class docutils literal notranslate"><span class="pre">QPixMap</span></code> from the <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtgui/qimage.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QImage</span></code></a> it keepts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> – the <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtgui/qimage.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QImage</span></code></a> of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image either loaded from a file or from <a class="reference external" href="https://imgur.com">Imgur</a>.</p></li>
<li><p><strong>parent</strong> – the parent <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtwidgets/qwidget.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code></a>, if defined, and for which <em>this</em> widget is a child.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>img</strong> – the source <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtgui/qimage.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QImage</span></code></a> used to regenerate its own background <code class="xref py py-class docutils literal notranslate"><span class="pre">QPixMap</span></code>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicLabel.hasHeightForWidth">
<span class="sig-name descname"><span class="pre">hasHeightForWidth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicLabel.hasHeightForWidth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicLabel.heightForWidth">
<span class="sig-name descname"><span class="pre">heightForWidth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicLabel.heightForWidth" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is slotted to one of the resize events, and is defined to fix the aspect ratio of the source <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtgui/qimage.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QImage</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the width passed on a resizing event for this widget.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicLabel.resizeEvent">
<span class="sig-name descname"><span class="pre">resizeEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicLabel.resizeEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>On resize, regenerates its own background <code class="xref py py-class docutils literal notranslate"><span class="pre">QPixMap</span></code> with the same aspect ratio as its source <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtgui/qimage.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QImage</span></code></a>, but with the widget’s new width.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evt</strong> – the resizing <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtcore/qevent.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QEvent</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.email_imgur.</span></span><span class="sig-name descname"><span class="pre">PNGPicObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pImgClient</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicObject" title="Permalink to this definition">¶</a></dt>
<dd><p>This provides a GUI widget to the <a class="reference external" href="https://imgur.com">Imgur</a> interface implemented in <a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlexIMGClient</span></code></a>. Initializaton of the image can either upload this image to the <a class="reference external" href="https://imgur.com">Imgur</a> account, or retrieve the image from the main <a class="reference external" href="https://imgur.com">Imgur</a> album. This object can also launch a GUI dialog window through <code class="xref py py-meth docutils literal notranslate"><span class="pre">getInfoGUI</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initdata</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a>) – <p>the low-level dictionary that contains important information on the image, located in a file, that will either be uploaded into the main <a class="reference external" href="https://imgur.com">Imgur</a> album or merely kept in memory. The main key that determines operation is <code class="docutils literal notranslate"><span class="pre">initialization</span></code>. It can be one of <code class="docutils literal notranslate"><span class="pre">&quot;FILE&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;SERVER&quot;</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">initialization</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;FILE&quot;</span></code>, then upload the the image to the main album in the <a class="reference external" href="https://imgur.com">Imgur</a> account. Here are the required keys in <code class="docutils literal notranslate"><span class="pre">initdata</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code> is the location of the image file on disk.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">actName</span></code> is the PNG filename to be used. It must end in <code class="docutils literal notranslate"><span class="pre">png</span></code>.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">initialization</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;SERVER&quot;</span></code>, then retrieve this image from the main album in the <a class="reference external" href="https://imgur.com">Imgur</a> account. Here are the required keys in <code class="docutils literal notranslate"><span class="pre">initdata</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">imgurlink</span></code> is the URL link to the image.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imgName</span></code> is the name of the image.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imgMD5</span></code> is the <a class="reference external" href="https://en.wikipedia.org/wiki/MD5">MD5</a> hash of the image.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imgDateTime</span></code> is the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> at which the image was initially uploaded into the main <a class="reference external" href="https://imgur.com">Imgur</a> album.</p></li>
</ul>
</p></li>
<li><p><strong>pImgClient</strong> (<em>PlexIMGClient</em>) – the <a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlexIMGClient</span></code></a> used to access and manipulate (add, delete, rename) images in the main <a class="reference external" href="https://imgur.com">Imgur</a> album.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>actName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the file name without full path, which must end in <code class="docutils literal notranslate"><span class="pre">png</span></code>.</p></li>
<li><p><strong>img</strong> (<em>QImage</em>) – the <code class="xref py py-class docutils literal notranslate"><span class="pre">QImage</span></code> representation of this image.</p></li>
<li><p><strong>originalImage</strong> (<em>Image</em>) – the <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code> representation of this image.</p></li>
<li><p><strong>originalWidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – the inferred width in cm.</p></li>
<li><p><strong>currentWidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – the current image width in cm. It starts off as equal to <code class="docutils literal notranslate"><span class="pre">originalWidth</span></code></p></li>
<li><p><strong>b64string</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the <a class="reference external" href="https://en.wikipedia.org/wiki/Base64">Base64</a> encoded representation of this image as a PNG file.</p></li>
<li><p><strong>imgurlLink</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the URL link to the image.</p></li>
<li><p><strong>imgDateTime</strong> (<em>datetime</em>) – the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> at which this image was first uploaded to the main album in the <a class="reference external" href="https://imgur.com">Imgur</a> account.</p></li>
</ul>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – if <code class="docutils literal notranslate"><span class="pre">initdata['initialization']</span></code> is neither <code class="docutils literal notranslate"><span class="pre">&quot;FILE&quot;</span></code> nor <code class="docutils literal notranslate"><span class="pre">&quot;SERVER&quot;</span></code>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicObject.b64String">
<span class="sig-name descname"><span class="pre">b64String</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicObject.b64String" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a 3-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> on the image incorporated into this object: its <a class="reference external" href="https://en.wikipedia.org/wiki/Base64">Base64</a> string, its width in pixels, and the <a class="reference external" href="https://imgur.com">Imgur</a> link.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicObject.changeName">
<span class="sig-name descname"><span class="pre">changeName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nImgClient</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicObject.changeName" title="Permalink to this definition">¶</a></dt>
<dd><p>changes the filename into a new name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – the new name of the image file to be changed in the main album on the <a class="reference external" href="https://imgur.com">Imgur</a> account. This must end in <code class="docutils literal notranslate"><span class="pre">png</span></code>.</p></li>
<li><p><strong>nImgClient</strong> (<a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient"><em>NPRStuffIMGClient</em></a>) – the <a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">NPRStuffIMGClient</span></code></a> used to access and manipulate (add, delete, rename) images in the main <a class="reference external" href="https://imgur.com">Imgur</a> album.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicObject.createPNGPicObjects">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">createPNGPicObjects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pImgClient</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicObject.createPNGPicObjects" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pImgClient</strong> (<em>PlexIMGClient</em>) – the <a class="reference internal" href="#nprstuff.npremail.email_imgur.NPRStuffIMGClient" title="nprstuff.npremail.email_imgur.NPRStuffIMGClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlexIMGClient</span></code></a> used to access and manipulate (add, delete, rename) images in the main <a class="reference external" href="https://imgur.com">Imgur</a> album.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <code class="xref py py-class docutils literal notranslate"><span class="pre">PNGPicObject</span></code> representing the images in the main <a class="reference external" href="https://imgur.com">Imgur</a> album.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicObject.getInfoGUI">
<span class="sig-name descname"><span class="pre">getInfoGUI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicObject.getInfoGUI" title="Permalink to this definition">¶</a></dt>
<dd><p>Launches a <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtwidgets/qdialog.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QDialog</span></code></a> that contains the underlying image and some other labels: <code class="docutils literal notranslate"><span class="pre">ACTNAME</span></code> is the actual PNG file name, <code class="docutils literal notranslate"><span class="pre">URL</span></code> is the image’s <a class="reference external" href="https://imgur.com">Imgur</a> link, and <code class="docutils literal notranslate"><span class="pre">UPLOADED</span> <span class="pre">AT</span></code> is the date and time at which the file was uploaded. An example image is shown below,</p>
<div class="figure align-left" id="id8">
<a class="reference internal image-reference" href="_images/email_pngpicobject_infogui.png"><img alt="_images/email_pngpicobject_infogui.png" src="_images/email_pngpicobject_infogui.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 7.1 </span><span class="caption-text">An example <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image that can be stored in the main <a class="reference external" href="https://imgur.com">Imgur</a> library. Note the three rows above the image: the <em>name</em> of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image; its URL; and the date and time it was uploaded.</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parent</strong> (<a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtwidgets/qwidget.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code></a>) – the parent <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtwidgets/qwidget.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code></a> that acts as the <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtwidgets/qdialog.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QDialog</span></code></a> window’s parent. Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicQSortFilterModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.email_imgur.</span></span><span class="sig-name descname"><span class="pre">PNGPicQSortFilterModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicQSortFilterModel" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicQSortFilterModel.filterAcceptsRow">
<span class="sig-name descname"><span class="pre">filterAcceptsRow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QModelIndex</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicQSortFilterModel.filterAcceptsRow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.email_imgur.</span></span><span class="sig-name descname"><span class="pre">PNGPicTableModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableModel" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableModel.columnCount">
<span class="sig-name descname"><span class="pre">columnCount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QModelIndex</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">QModelIndex()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.columnCount" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableModel.data">
<span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QModelIndex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Qt.ItemDataRole.DisplayRole</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableModel.flags">
<span class="sig-name descname"><span class="pre">flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QModelIndex</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Qt.ItemFlags</span></span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableModel.headerData">
<span class="sig-name descname"><span class="pre">headerData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Qt.Orientation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">Qt.ItemDataRole.DisplayRole</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.headerData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableModel.rowCount">
<span class="sig-name descname"><span class="pre">rowCount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QModelIndex</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">QModelIndex()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.rowCount" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableModel.setData">
<span class="sig-name descname"><span class="pre">setData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QModelIndex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Qt.ItemDataRole.EditRole</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.setData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableModel.sort">
<span class="sig-name descname"><span class="pre">sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Qt.SortOrder</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Qt.AscendingOrder</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableModel.sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableView">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.email_imgur.</span></span><span class="sig-name descname"><span class="pre">PNGPicTableView</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableView" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableView.contextMenuEvent">
<span class="sig-name descname"><span class="pre">contextMenuEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QContextMenuEvent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableView.contextMenuEvent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGPicTableView.resizeEvent">
<span class="sig-name descname"><span class="pre">resizeEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QResizeEvent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGPicTableView.resizeEvent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nprstuff.npremail.email_imgur.PNGWidget">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nprstuff.npremail.email_imgur.</span></span><span class="sig-name descname"><span class="pre">PNGWidget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.npremail.email_imgur.PNGWidget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="driving.html" class="btn btn-neutral float-right" title="8. My Philosopy on Driving" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="core_api.html" class="btn btn-neutral float-left" title="6. Core APIs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Tanim Islam.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>