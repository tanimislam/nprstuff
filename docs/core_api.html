

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Core APIs &mdash; nprstuff 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="4. Oldstuff" href="oldstuff.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> nprstuff
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core_functionality.html">1. Core Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="new_functionality.html">2. New Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphics_functionality.html">3. Graphics Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="oldstuff.html">4. Oldstuff</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Core APIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#npr-utils-module">5.1. npr_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#autocrop-image-module">5.2. autocrop_image module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#convert-image-module">5.3. convert_image module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#music-to-m4a-module">5.4. music_to_m4a module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#freshair-and-freshair-by-year-modules">5.5. freshair and freshair_by_year modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#thisamericanlife-module">5.6. thisamericanlife module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#waitwait-and-waitwait-realmedia-modules">5.7. waitwait and waitwait_realmedia modules</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">nprstuff</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">5. </span>Core APIs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/core_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="core-apis">
<h1><span class="section-number">5. </span>Core APIs<a class="headerlink" href="#core-apis" title="Permalink to this headline">¶</a></h1>
<p>This document describes the nprstuff core API, which provides the low-level back-end for the CLI front ends described in <a class="reference internal" href="core_functionality.html#core-functionality"><span class="std std-ref">Core Functionality</span></a> and <a class="reference internal" href="new_functionality.html#new-functionality"><span class="std std-ref">New Functionality</span></a>. These modules live under <code class="docutils literal notranslate"><span class="pre">nprstuff.core</span></code>.</p>
<p>The most fundamental change, from the <cite>older NPR API</cite>, is the usage of webscraping (through <a class="reference external" href="https://www.selenium.dev/documentation/en">Selenium</a>) and inference to craft responses that return stories for <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> and <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes. Here is a screenshot.</p>
<a class="reference internal image-reference" href="_images/waitwait_screenshot_ANNOTATED.png"><img alt="_images/waitwait_screenshot_ANNOTATED.png" class="align-center" src="_images/waitwait_screenshot_ANNOTATED.png" style="width: 100%;" /></a>
<p>To get <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes for 8 AUGUST 2020, one needs to put this URL into address bar of the <a class="reference external" href="https://www.selenium.dev/documentation/en">Selenium</a> headless browser,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">https://www.npr.org/search?query=*&amp;page=1&amp;refinementList[shows]=Wait Wait...Don&#39;t Tell Me!&amp;range[lastModifiedDate][min]=1596783600&amp;range[lastModifiedDate][max]=1596870000&amp;sortType=byDateAsc</span>
</pre></div>
</div>
<p>This unwieldy process required a fair amount of trial and error to (mostly) work.</p>
<p>Second, I have redesigned the Python logging functionality in the following way,</p>
<ul class="simple">
<li><p>custom format of the logging output, formatted as <code class="docutils literal notranslate"><span class="pre">'%(levelname)s</span> <span class="pre">%(module)s.%(funcName)s</span> <span class="pre">(%(lineno)d):</span> <span class="pre">%(message)s'</span></code>. See the <a class="reference external" href="https://docs.python.org/3/howto/logging-cookbook.html">logging cookbook</a> for more information on what this format means.</p></li>
<li><p>the <a class="reference internal" href="core_functionality.html#core-functionality"><span class="std std-ref">Core Functionality</span></a> command line tools have an extra argument flag, <code class="docutils literal notranslate"><span class="pre">--level</span></code>, that specifies whether to print out logging output and the following debug levels: <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>, <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, or <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>.</p></li>
</ul>
<div class="section" id="npr-utils-module">
<h2><span class="section-number">5.1. </span>npr_utils module<a class="headerlink" href="#npr-utils-module" title="Permalink to this headline">¶</a></h2>
<p>This module contains common utilities to get the proper metadata for NPR programs, to name these media files in the proper date format, and to get the full paths to the <a class="reference external" href="https://libav.org">LibAV</a> or <a class="reference external" href="https://ffmpeg.org">FFMPEG</a> and <a class="reference external" href="https://handbrake.fr">HandBrakeCLI</a> tools used to create the NPR programs in <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/MP3">MP3</a> formats (among other functionalities).</p>
<span class="target" id="module-nprstuff.core.npr_utils"></span><dl class="py class">
<dt id="nprstuff.core.npr_utils.MyPool">
<em class="property">class </em><code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">MyPool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">processes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">initializer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">initargs</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">maxtasksperchild</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.MyPool" title="Permalink to this definition">¶</a></dt>
<dd><p>A magic type of <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pool</span></code></a> whose processes can spawn other processes. This allows one to create a pool of workers that can spawn other processes (by default, <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> does not allow this).</p>
<p>I copied the code from <a class="reference external" href="https://stackoverflow.com/a/8963618/3362358">this website</a> and <a class="reference external" href="https://stackoverflow.com/questions/52948447/error-group-argument-must-be-none-for-now-in-multiprocessing-pool">a new website</a>, without any real understanding EXCEPT that I am extending a <code class="xref py py-class docutils literal notranslate"><span class="pre">Pool</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.find_necessary_executables">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">find_necessary_executables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.find_necessary_executables" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>this method searches first for the <a class="reference external" href="https://en.wikipedia.org/wiki/Libav">avconv</a>, then the <a class="reference external" href="https://ffmpeg.org">FFmpeg</a>, executable for audiovisual conversion. If it finds either executable, returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> that looks like <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">'avconv'</span> <span class="pre">:</span> <span class="pre">&lt;EXEC_PATH&gt;</span> <span class="pre">}</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;EXEC_PATH&gt;</span></code> is the executable’s path. If it does NOT find it, returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_NPR_URL">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_NPR_URL</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_s</span></em>, <em class="sig-param"><span class="n">program_id</span></em>, <em class="sig-param"><span class="n">NPR_API_key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_NPR_URL" title="Permalink to this definition">¶</a></dt>
<dd><p>get the NPR API tag for a specific NPR program.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – a date string formatted as “YYYY-MM-DD”.</p></li>
<li><p><strong>program_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the NPR program’s integer ID.</p></li>
<li><p><strong>NPR_API_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the NPR API key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> of the exploded URL for REST API calls to the NPR API server.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>no methods call this function any more, instead using the <a class="reference external" href="https://requests.kennethreitz.org/en/master/api/#module-requests" title="(in Requests v2.24.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">requests</span></code></a> module’s cleaner, higher-level functionality of REST API commands.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_api_key">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_api_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_api_key" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the NPR API key, stored in <code class="docutils literal notranslate"><span class="pre">~/.config/nprstuff/nprstuff.conf</span></code>, under the <code class="docutils literal notranslate"><span class="pre">NPR_DATA</span></code> section and <code class="docutils literal notranslate"><span class="pre">apikey</span></code> key.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.store_api_key" title="nprstuff.core.npr_utils.store_api_key"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_api_key</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_chrome_driver">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_chrome_driver</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_chrome_driver" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference external" href="https://www.chromium.org/Home">Chromium</a> <a class="reference external" href="https://www.selenium.dev/documentation/en">Selenium</a> headless <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.get_firefox_driver" title="nprstuff.core.npr_utils.get_firefox_driver"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_firefox_driver</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_datestring">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_datestring</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_act</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_datestring" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_act</strong> (<em>datetime</em>) – the candidate <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> to format.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, with the format like “January 1, 2014”, of this <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.get_time_from_datestring" title="nprstuff.core.npr_utils.get_time_from_datestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_time_from_datestring</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_decdate">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_decdate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_decdate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – a <em>decoded</em> date string, of the format “DD.MM.YYYY”. This is a suffix attached to intermediate files that are created when downloading NPR shows.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> object associated with this date string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_firefox_driver">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_firefox_driver</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_firefox_driver" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference external" href="https://www.mozilla.org/en-US/firefox/new">Firefox</a> <a class="reference external" href="https://www.selenium.dev/documentation/en">Selenium</a> headless <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.get_chrome_driver" title="nprstuff.core.npr_utils.get_chrome_driver"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_chrome_driver</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_freshair_downloaddir">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_freshair_downloaddir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_freshair_downloaddir" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> default download directory, stored in <code class="docutils literal notranslate"><span class="pre">~/.config/nprstuff/nprstuff.conf</span></code>, under the <code class="docutils literal notranslate"><span class="pre">NPR_DATA</span></code> section and <code class="docutils literal notranslate"><span class="pre">freshair_downloaddir</span></code> key.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.store_freshair_downloaddir" title="nprstuff.core.npr_utils.store_freshair_downloaddir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_freshair_downloaddir</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_order_number_saturday_in_year">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_order_number_saturday_in_year</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_act</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_order_number_saturday_in_year" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <em>1-indexed</em> order of the Saturday associated with a given <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a>. NOTE: this object MUST be a Saturday.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_act</strong> (<em>date</em>) – the candidate Saturday.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of <em>1-indexed</em> order, and total number of Saturdays, in the year in which this Saturday exists.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)">tuple</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.core.npr_utils.get_order_number_weekday_in_year" title="nprstuff.core.npr_utils.get_order_number_weekday_in_year"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_order_number_weekday_in_year</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.npr_utils.get_saturday_times_in_year" title="nprstuff.core.npr_utils.get_saturday_times_in_year"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_saturday_times_in_year</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.npr_utils.is_saturday" title="nprstuff.core.npr_utils.is_saturday"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_saturday</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_order_number_weekday_in_year">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_order_number_weekday_in_year</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_act</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_order_number_weekday_in_year" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <em>1-indexed</em> order of the weekday associated with a given <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a>. NOTE: this object MUST be a weekday.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_act</strong> (<em>date</em>) – the candidate weekday.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of <em>1-indexed</em> order of the weekday, and total number of weekdays, in the year in which this date exists.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)">tuple</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.core.npr_utils.get_order_number_saturday_in_year" title="nprstuff.core.npr_utils.get_order_number_saturday_in_year"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_order_number_saturday_in_year</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.npr_utils.get_weekday_times_in_year" title="nprstuff.core.npr_utils.get_weekday_times_in_year"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_weekday_times_in_year</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.npr_utils.is_weekday" title="nprstuff.core.npr_utils.is_weekday"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_weekday</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_saturday_times_in_year">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_saturday_times_in_year</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">year</span></em>, <em class="sig-param"><span class="n">getAll</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_saturday_times_in_year" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a sorted <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of Saturdays, as <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> objects for a given year, either <em>all</em> the Saturdays or all the Saturdays before now.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the year over which to find the weekdays.</p></li>
<li><p><strong>getAll</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then return <em>all</em> the Saturdays. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, return those Saturdays before today.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a sorted <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of Saturdays as a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> objects.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.get_weekday_times_in_year" title="nprstuff.core.npr_utils.get_weekday_times_in_year"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_weekday_times_in_year</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_time_from_datestring">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_time_from_datestring</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datestring</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_time_from_datestring" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datestring</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – a formatted date string, which must be of the form “January 1, 2014”.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> object represented by that formatted date string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_waitwait_downloaddir">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_waitwait_downloaddir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_waitwait_downloaddir" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> default download directory, stored in <code class="docutils literal notranslate"><span class="pre">~/.config/nprstuff/nprstuff.conf</span></code>, under the <code class="docutils literal notranslate"><span class="pre">NPR_DATA</span></code> section and <code class="docutils literal notranslate"><span class="pre">waitwait_downloaddir</span></code> key.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.store_waitwait_downloaddir" title="nprstuff.core.npr_utils.store_waitwait_downloaddir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_waitwait_downloaddir</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.get_weekday_times_in_year">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">get_weekday_times_in_year</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">year</span></em>, <em class="sig-param"><span class="n">getAll</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.get_weekday_times_in_year" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a sorted <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of weekdays, as <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> objects for a given year, either <em>all</em> the weekdays or all the weekdays before now.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the year over which to find the weekdays.</p></li>
<li><p><strong>getAll</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then return <em>all</em> the weekdays. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, return those weekdays before today.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a sorted <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of weekdays as a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> objects.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.get_saturday_times_in_year" title="nprstuff.core.npr_utils.get_saturday_times_in_year"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_saturday_times_in_year</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.is_saturday">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">is_saturday</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_act</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.is_saturday" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_act</strong> (<em>date</em>) – candidate date.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> is a Saturday.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.is_sunday">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">is_sunday</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtime</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.is_sunday" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_act</strong> (<em>date</em>) – candidate date.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> is a Sunday.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.is_weekday">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">is_weekday</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_act</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.is_weekday" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_act</strong> (<em>date</em>) – candidate date.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> is a weekday.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.saturdays_of_month_of_year">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">saturdays_of_month_of_year</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">year</span></em>, <em class="sig-param"><span class="n">month</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.saturdays_of_month_of_year" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – input year.</p></li>
<li><p><strong>month</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – input month as an integer from 1 (January) through 12 (December).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a sorted <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of days in a calendar month that are Saturdays, each of which ranges from first (1) to last day of month. Each day is an integer <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.weekdays_of_month_of_year" title="nprstuff.core.npr_utils.weekdays_of_month_of_year"><code class="xref py py-meth docutils literal notranslate"><span class="pre">weekdays_of_month_of_year</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.store_api_key">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">store_api_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">npr_API_key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.store_api_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores a candidate NPR API key into the configuration file, <code class="docutils literal notranslate"><span class="pre">~/.config/nprstuff/nprstuff.conf</span></code>, into the <code class="docutils literal notranslate"><span class="pre">NPR_DATA</span></code> section and <code class="docutils literal notranslate"><span class="pre">apikey</span></code> key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>npr_API_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – candidate NPR API key.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.get_api_key" title="nprstuff.core.npr_utils.get_api_key"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_api_key</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.store_freshair_downloaddir">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">store_freshair_downloaddir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">freshair_downloaddir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.store_freshair_downloaddir" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the default location of the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes into the configuration file, <code class="docutils literal notranslate"><span class="pre">~/.config/nprstuff/nprstuff.com</span></code>, into the <code class="docutils literal notranslate"><span class="pre">NPR_DATA</span></code> section and <code class="docutils literal notranslate"><span class="pre">freshair_downloaddir</span></code> key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>freshair_downloaddir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the default directory to download <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.get_freshair_downloaddir" title="nprstuff.core.npr_utils.get_freshair_downloaddir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_freshair_downloaddir</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.store_waitwait_downloaddir">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">store_waitwait_downloaddir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">waitwait_downloaddir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.store_waitwait_downloaddir" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the default location of the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes into the configuration file, <code class="docutils literal notranslate"><span class="pre">~/.config/nprstuff/nprstuff.com</span></code>, into the <code class="docutils literal notranslate"><span class="pre">NPR_DATA</span></code> section and <code class="docutils literal notranslate"><span class="pre">waitwait_downloaddir</span></code> key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>waitwait_downloaddir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the default directory to download <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.get_waitwait_downloaddir" title="nprstuff.core.npr_utils.get_waitwait_downloaddir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_waitwait_downloaddir</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.npr_utils.weekdays_of_month_of_year">
<code class="sig-prename descclassname">nprstuff.core.npr_utils.</code><code class="sig-name descname">weekdays_of_month_of_year</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">year</span></em>, <em class="sig-param"><span class="n">month</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.npr_utils.weekdays_of_month_of_year" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – input year.</p></li>
<li><p><strong>month</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – input month as an integer from 1 (January) through 12 (December).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a sorted <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of days in a calendar month that are weekdays, each of which ranges from first (1) to last day of month. Each day is an integer <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.npr_utils.saturdays_of_month_of_year" title="nprstuff.core.npr_utils.saturdays_of_month_of_year"><code class="xref py py-meth docutils literal notranslate"><span class="pre">saturdays_of_month_of_year</span></code></a>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="autocrop-image-module">
<h2><span class="section-number">5.2. </span>autocrop_image module<a class="headerlink" href="#autocrop-image-module" title="Permalink to this headline">¶</a></h2>
<p>This module provides low-level functionality that implements automatic cropping of lossy (<a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/JPEG">JPEG</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/TIFF">TIFF</a>) and <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> images.</p>
<span class="target" id="module-nprstuff.core.autocrop_image"></span><dl class="py function">
<dt id="nprstuff.core.autocrop_image.autocrop_image">
<code class="sig-prename descclassname">nprstuff.core.autocrop_image.</code><code class="sig-name descname">autocrop_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputfilename</span></em>, <em class="sig-param"><span class="n">outputfilename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'white'</span></em>, <em class="sig-param"><span class="n">newWidth</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">doShow</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">trans</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fixEven</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.autocrop_image.autocrop_image" title="Permalink to this definition">¶</a></dt>
<dd><p>performs an autocropping of lossy images, such as <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/JPEG">JPEG</a>, or <a class="reference external" href="https://en.wikipedia.org/wiki/TIFF">TIFF</a>,  with a defined background. The default background color is white. This then creates an automatically cropped image and stores into a new or the same file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputfilename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the input image file’s name.</p></li>
<li><p><strong>outputfilename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the output image file’s name. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then stores image into <code class="docutils literal notranslate"><span class="pre">inputfilename</span></code>.</p></li>
<li><p><strong>color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the background color over which to perform automatic cropping. Default is <code class="docutils literal notranslate"><span class="pre">white</span></code>.</p></li>
<li><p><strong>newWidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the optional new width of the output image. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then do not resize the image.</p></li>
<li><p><strong>doShow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then display the autocropped image using the computer’s default image viewer (for example <a class="reference external" href="https://en.wikipedia.org/wiki/Preview_(macOS)">Preview</a> on Mac OS X), otherwise output the autocropped into a file. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>trans</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then preserves the transparency of the input image. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>fixEven</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then changes the width and height of the autocropped image so that both are divisible by 2. This functionality exists in order to create a movie (using <a class="reference external" href="https://ffmpeg.org">FFMPEG</a>) from a sequence of image files; each image’s width and height should all be the same, and <em>both divisible by 2</em>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> of image processing status. <code class="docutils literal notranslate"><span class="pre">True</span></code> if able to perform the autocropping operation, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.autocrop_image.autocrop_perproc" title="nprstuff.core.autocrop_image.autocrop_perproc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">autocrop_perproc</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.autocrop_image.autocrop_perproc">
<code class="sig-prename descclassname">nprstuff.core.autocrop_image.</code><code class="sig-name descname">autocrop_perproc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_tuple</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.autocrop_image.autocrop_perproc" title="Permalink to this definition">¶</a></dt>
<dd><p>Designed to use Python’s multiprocessing design to autocrop lossy images per processor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_tuple</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of <code class="docutils literal notranslate"><span class="pre">inputfilename</span></code>, (input file name) <code class="docutils literal notranslate"><span class="pre">outputfilename</span></code> (output file name), <code class="docutils literal notranslate"><span class="pre">color</span></code> (background color), and <code class="docutils literal notranslate"><span class="pre">fixEven</span></code> (if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then resize the output image to have even-pixeled width and height).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of <code class="docutils literal notranslate"><span class="pre">inputfilename</span></code> and success status (<code class="docutils literal notranslate"><span class="pre">True</span></code> for success, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise).</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.autocrop_image.autocrop_image" title="nprstuff.core.autocrop_image.autocrop_image"><code class="xref py py-meth docutils literal notranslate"><span class="pre">autocrop_image</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.autocrop_image.crop_pdf">
<code class="sig-prename descclassname">nprstuff.core.autocrop_image.</code><code class="sig-name descname">crop_pdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputfile</span></em>, <em class="sig-param"><span class="n">outputfile</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.autocrop_image.crop_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a possible multi-page <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file that consists of <span class="math notranslate nohighlight">\(N \ge 1\)</span> pages, creates <span class="math notranslate nohighlight">\(N\)</span> separate single-page autocropped <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> files for each page in the input <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file. Given a file with name <code class="docutils literal notranslate"><span class="pre">inputfile</span></code>, the collection of output files are named <code class="docutils literal notranslate"><span class="pre">outputfile&lt;idx&gt;</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;idx&gt;</span></code> is the page number. This uses <a class="reference external" href="https://pythonhosted.org/PyPDF2/PdfFileReader.html#PyPDF2.PdfFileReader" title="(in PyPDF2 v1.26)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PdfFileReader</span></code></a> to read in, and <a class="reference external" href="https://pythonhosted.org/PyPDF2/PdfFileWriter.html#PyPDF2.PdfFileWriter" title="(in PyPDF2 v1.26)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PdfFileWriter</span></code></a> to write out, <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> files.</p>
<p>The Python functionality is a port of the <a class="reference external" href="ftp://ftp.tex.ac.uk/tex-archive/support/pdfcrop/pdfcrop.pl">pdfcrop.pl</a> PERL script.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the name of the input <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file.</p></li>
<li><p><strong>outputfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – optional argument, the prefix of the output <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> files. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the prefix is the part of <code class="docutils literal notranslate"><span class="pre">inputfile</span></code> with the <code class="docutils literal notranslate"><span class="pre">.pdf</span></code> suffix removed.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.autocrop_image.crop_pdf_singlepage" title="nprstuff.core.autocrop_image.crop_pdf_singlepage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">crop_pdf_singlepage</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.autocrop_image.crop_pdf_singlepage">
<code class="sig-prename descclassname">nprstuff.core.autocrop_image.</code><code class="sig-name descname">crop_pdf_singlepage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputfile</span></em>, <em class="sig-param"><span class="n">outputfile</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.autocrop_image.crop_pdf_singlepage" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <em>single-paged</em> <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file, creates an autocropped output <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file. This uses <a class="reference external" href="https://pythonhosted.org/PyPDF2/PdfFileReader.html#PyPDF2.PdfFileReader" title="(in PyPDF2 v1.26)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PdfFileReader</span></code></a> to read in, and <a class="reference external" href="https://pythonhosted.org/PyPDF2/PdfFileWriter.html#PyPDF2.PdfFileWriter" title="(in PyPDF2 v1.26)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PdfFileWriter</span></code></a> to write out, <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> files.</p>
<p>The Python functionality is a port of the <a class="reference external" href="ftp://ftp.tex.ac.uk/tex-archive/support/pdfcrop/pdfcrop.pl">pdfcrop.pl</a> PERL script.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the name of the input <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file.</p></li>
<li><p><strong>outputfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – optional argument, the name of the output <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the autocropped output <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file replaces the input <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.autocrop_image.get_boundingbox">
<code class="sig-prename descclassname">nprstuff.core.autocrop_image.</code><code class="sig-name descname">get_boundingbox</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pdfpath</span></em>, <em class="sig-param"><span class="n">hiresbb</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.autocrop_image.get_boundingbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file, returns its <a class="reference external" href="https://commons.wikimedia.org/wiki/File:PDF_BOX_01.svg">BoundingBox</a>. Requires working <a class="reference external" href="https://www.ghostscript.com">ghostscript</a> (<code class="docutils literal notranslate"><span class="pre">gs</span></code> executable) to calculate the bounding box.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">get_boundingbox</span><span class="p">(</span><span class="s1">&#39;/path/to/mypdf.pdf&#39;</span><span class="p">)</span>   <span class="c1"># doctest: +SKIP</span>
<span class="p">[[</span><span class="mi">23</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">555</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">555</span><span class="p">]]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pdfpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the name of the <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> file.</p></li>
<li><p><strong>hiresbb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns the <code class="docutils literal notranslate"><span class="pre">hiresBoundingbox</span></code>; otherwise returns <code class="docutils literal notranslate"><span class="pre">Boundingbox</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://commons.wikimedia.org/wiki/File:PDF_BOX_01.svg">BoundingBox</a>, one per <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> page.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.8)"><strong>IOError</strong></a> – if the <a class="reference external" href="https://www.ghostscript.com">ghostscript</a> executable could noty be found.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="convert-image-module">
<h2><span class="section-number">5.3. </span>convert_image module<a class="headerlink" href="#convert-image-module" title="Permalink to this headline">¶</a></h2>
<p>This module provides the low-level functionality to use the <a class="reference external" href="https://cloudconvert.com">CloudConvert</a> API to convert <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a>, and <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a> images into a final <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image, utility functions to create <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movies from a sequence of images, and to create animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> files, and created square movies (useful for upload to <a class="reference external" href="https://www.instagram.com">Instagram</a>).</p>
<p>This module also requires <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtsvg/qsvgrenderer.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QSvgRenderer</span></code></a> for some of its functionality. However, <a class="reference external" href="https://pypi.org">PyPI</a> does not have Python bindings to <a class="reference external" href="https://doc.qt.io/qt-5/qtsvg-index.html">QtSVG</a>. To install on an <a class="reference external" href="https://ubuntu.com">Ubuntu</a> machine, you can <em>thoughts and prayers</em> these instructions</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo apt install python3-pyqt5.qtsvg</span>
</pre></div>
</div>
<p>There may be similar installation instructions on other Linux, Windows and Mac OS X machines.</p>
<span class="target" id="module-nprstuff.core.convert_image"></span><dl class="py function">
<dt id="nprstuff.core.convert_image.get_cloudconvert_api_key">
<code class="sig-prename descclassname">nprstuff.core.convert_image.</code><code class="sig-name descname">get_cloudconvert_api_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.convert_image.get_cloudconvert_api_key" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://cloudconvert.com">CloudConvert</a> API key, stored in <code class="docutils literal notranslate"><span class="pre">~/.config/nprstuff/nprstuff.conf</span></code>, under the <code class="docutils literal notranslate"><span class="pre">CLOUDCONVERT_DATA</span></code> section and <code class="docutils literal notranslate"><span class="pre">apikey</span></code> key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.convert_image.get_youtube_file">
<code class="sig-prename descclassname">nprstuff.core.convert_image.</code><code class="sig-name descname">get_youtube_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">youtube_URL</span></em>, <em class="sig-param"><span class="n">output_mp4_file</span></em>, <em class="sig-param"><span class="n">quality</span><span class="o">=</span><span class="default_value">'highest'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.convert_image.get_youtube_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses <a class="reference external" href="https://ytdl-org.github.io/youtube-dl/index.html">youtube-dl</a> programmatically to download into an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>youtube_URL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – a valid <a class="reference external" href="https://www.youtube.com">YouTube</a> URL for the song clip.</p></li>
<li><p><strong>output_mp4_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> video file name.</p></li>
<li><p><strong>quality</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the quality level of the MP4 video to download. Default is “highest.” Can be one of “highest”, “high”, “medium”, “low”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.convert_image.make_square_mp4video">
<code class="sig-prename descclassname">nprstuff.core.convert_image.</code><code class="sig-name descname">make_square_mp4video</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_mp4_file</span></em>, <em class="sig-param"><span class="n">output_mp4_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.convert_image.make_square_mp4video" title="Permalink to this definition">¶</a></dt>
<dd><p>More <a class="reference external" href="https://ffmpeg.org">FFmpeg</a> voodoo, this time to create a square <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file for upload into <a class="reference external" href="https://www.instagram.com">Instagram</a>.</p>
<p>This requires a working <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> and <code class="docutils literal notranslate"><span class="pre">ffprobe</span></code> executable to work. The input file must be <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a>.</p>
<p>Here are resources that I used to get this working.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://superuser.com/questions/1212106/add-border-to-video-ffmpeg">Padding movie file with FFmpeg</a>.</p></li>
<li><p><a class="reference external" href="https://tanimislamblog.wordpress.com/2018/09/12/ffprobe-to-get-output-in-json-format">Using FFPROBE to output JSON format</a>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_mp4_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the name of the valid input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file.</p></li>
<li><p><strong>output_mp4_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the name of the valid output <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_gif_video</span></code>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.convert_image.mp4togif">
<code class="sig-prename descclassname">nprstuff.core.convert_image.</code><code class="sig-name descname">mp4togif</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_mp4_file</span></em>, <em class="sig-param"><span class="n">gif_file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">duration</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.convert_image.mp4togif" title="Permalink to this definition">¶</a></dt>
<dd><p>This consists of voodoo <a class="reference external" href="https://ffmpeg.org">FFmpeg</a> magic that converts <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> to animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> reasonably well. Don’t ask me how most of it works, just be on-your-knees-kissing-the-dirt grateful that MILLIONS of people hack onto and into <a class="reference external" href="https://ffmpeg.org">FFmpeg</a> so that this information is available, and the workflow works.</p>
<p>This requires a working <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> and <code class="docutils literal notranslate"><span class="pre">ffprobe</span></code> executable to work. If the input file is named <code class="docutils literal notranslate"><span class="pre">&lt;input&gt;.mp4</span></code>, the output animated GIF file is named <code class="docutils literal notranslate"><span class="pre">&lt;input&gt;.gif</span></code>.</p>
<p>Here are resources that I used to get this working.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://blog.pkh.me/p/21-high-quality-gif-with-ffmpeg.html">Tutorial on high quality movie to animated GIF conversion</a>. I hope this doesn’t go away!</p></li>
<li><p><a class="reference external" href="https://tanimislamblog.wordpress.com/2018/09/12/ffprobe-to-get-output-in-json-format">Using FFPROBE to output JSON format</a>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_mp4_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the name of the valid <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file.</p></li>
<li><p><strong>gif_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the (optional) name of the animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> file. If not provided, then creates a GIF file of some default name.</p></li>
<li><p><strong>duration</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – duration, in seconds, of <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file to use to make the animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is provided, use the full movie. If provided, then must be <span class="math notranslate nohighlight">\(\ge 1\)</span> seconds.</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – scaling of input width and height of <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file. Default is 1.0. Must be <span class="math notranslate nohighlight">\(\ge 0\)</span>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.convert_image.make_square_mp4video" title="nprstuff.core.convert_image.make_square_mp4video"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_square_mp4video</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.convert_image.pdf2png">
<code class="sig-prename descclassname">nprstuff.core.convert_image.</code><code class="sig-name descname">pdf2png</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_pdf_file</span></em>, <em class="sig-param"><span class="n">newWidth</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verify</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.convert_image.pdf2png" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v7.2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file produced when the <a class="reference external" href="https://cloudconvert.com">CloudConvert</a> server uploaded an input <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> image file. The output <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file has the same aspect ratio as the input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_png_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the input <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file. Filename must end in <code class="docutils literal notranslate"><span class="pre">.png</span></code>.</p></li>
<li><p><strong>newWidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – optional argument. If specified, the pixel width of the output image.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v7.2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file from the input <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.core.convert_image.svg2png" title="nprstuff.core.convert_image.svg2png"><code class="xref py py-meth docutils literal notranslate"><span class="pre">svg2png</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.convert_image.png2png" title="nprstuff.core.convert_image.png2png"><code class="xref py py-meth docutils literal notranslate"><span class="pre">png2png</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.convert_image.png2png">
<code class="sig-prename descclassname">nprstuff.core.convert_image.</code><code class="sig-name descname">png2png</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_png_file</span></em>, <em class="sig-param"><span class="n">newWidth</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verify</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.convert_image.png2png" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v7.2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file produced when the <a class="reference external" href="https://cloudconvert.com">CloudConvert</a> server uploaded an input <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file. The output <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file has the same aspect ratio as the input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_png_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the input <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file. Filename must end in <code class="docutils literal notranslate"><span class="pre">.png</span></code>.</p></li>
<li><p><strong>newWidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – optional argument. If specified, the pixel width of the output image.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v7.2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file from the input <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.core.convert_image.svg2png" title="nprstuff.core.convert_image.svg2png"><code class="xref py py-meth docutils literal notranslate"><span class="pre">svg2png</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.convert_image.pdf2png" title="nprstuff.core.convert_image.pdf2png"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pdf2png</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.convert_image.svg2png">
<code class="sig-prename descclassname">nprstuff.core.convert_image.</code><code class="sig-name descname">svg2png</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_svg_file</span></em>, <em class="sig-param"><span class="n">newWidth</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verify</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.convert_image.svg2png" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v7.2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file produced when the <a class="reference external" href="https://cloudconvert.com">CloudConvert</a> server uploaded an input <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG(Z)</a> file. The <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file has the same aspect ratio as the input file. Uses <a class="reference external" href="https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtsvg/qsvgrenderer.html" title="(in PyQt v5.14b1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QSvgRenderer</span></code></a> to convert an <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG(Z)</a> into a <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_svg_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the input SVG or SVGZ file. Filename must end in <code class="docutils literal notranslate"><span class="pre">.svg</span></code> or <code class="docutils literal notranslate"><span class="pre">.svgz</span></code>.</p></li>
<li><p><strong>newWidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – optional argument. If specified, the pixel width of the output image.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image" title="(in Pillow (PIL Fork) v7.2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> file from the input SVG or SVGZ file.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.core.convert_image.png2png" title="nprstuff.core.convert_image.png2png"><code class="xref py py-meth docutils literal notranslate"><span class="pre">png2png</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.convert_image.pdf2png" title="nprstuff.core.convert_image.pdf2png"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pdf2png</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.convert_image.youtube2gif">
<code class="sig-prename descclassname">nprstuff.core.convert_image.</code><code class="sig-name descname">youtube2gif</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_youtube_URL</span></em>, <em class="sig-param"><span class="n">gif_file</span></em>, <em class="sig-param"><span class="n">quality</span><span class="o">=</span><span class="default_value">'highest'</span></em>, <em class="sig-param"><span class="n">duration</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.convert_image.youtube2gif" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a <a class="reference external" href="https://www.youtube.com">YouTube</a> clip into an animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> file. First, downloads the <a class="reference external" href="https://www.youtube.com">YouTube</a> clip into an intermediate <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file; then converts the intermediate <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file into the animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>, and deletes the intermediate file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_youtube_URL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the input valid YouTube clip’s URL.</p></li>
<li><p><strong>gif_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the output <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a> file.</p></li>
<li><p><strong>quality</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – optional argument for the quality of the YouTube clip. Default is “highest”.</p></li>
<li><p><strong>duration</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – duration, in seconds, of input clip to use to make the animated <a class="reference external" href="https://en.wikipedia.org/wiki/GIF">GIF</a>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is provided, use the full movie. If provided, then must be <span class="math notranslate nohighlight">\(\ge 1\)</span> seconds.</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – scaling of input width and height of <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file. Default is 1.0. Must be <span class="math notranslate nohighlight">\(\ge 0\)</span>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.core.convert_image.mp4togif" title="nprstuff.core.convert_image.mp4togif"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mp4togif</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.convert_image.get_youtube_file" title="nprstuff.core.convert_image.get_youtube_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_youtube_file</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

</div>
<div class="section" id="music-to-m4a-module">
<h2><span class="section-number">5.4. </span>music_to_m4a module<a class="headerlink" href="#music-to-m4a-module" title="Permalink to this headline">¶</a></h2>
<p>This module provides low-level functionality that converts other music formats (<a class="reference external" href="https://en.wikipedia.org/wiki/MP3">MP3</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Vorbis">OGG</a>, and <a class="reference external" href="https://en.wikipedia.org/wiki/FLAC">FLAC</a>) into <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a>. It also contains functionality to fix <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> metadata.</p>
<span class="target" id="module-nprstuff.core.music_to_m4a"></span><dl class="py function">
<dt id="nprstuff.core.music_to_m4a.get_defaultname">
<code class="sig-prename descclassname">nprstuff.core.music_to_m4a.</code><code class="sig-name descname">get_defaultname</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m4afilename</span></em>, <em class="sig-param"><span class="n">showalbum</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.music_to_m4a.get_defaultname" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a candidate default file name for an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> file, given its metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m4afilename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> file name.</p></li>
<li><p><strong>showalbum</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then file name will include the song’s album. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, only the artist and song title.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the candidate file name for the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> file. If <code class="docutils literal notranslate"><span class="pre">showalbum</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, name is <code class="docutils literal notranslate"><span class="pre">&lt;artist&gt;.&lt;album&gt;.&lt;song&gt;.m4a</span></code>. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, name is  <code class="docutils literal notranslate"><span class="pre">&lt;artist&gt;.&lt;song&gt;.m4a</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.music_to_m4a.music_to_m4a">
<code class="sig-prename descclassname">nprstuff.core.music_to_m4a.</code><code class="sig-name descname">music_to_m4a</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">tottracks</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">album_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">outfile</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">toUpper</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.music_to_m4a.music_to_m4a" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a non <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> file (<a class="reference external" href="https://en.wikipedia.org/wiki/MP3">MP3</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Vorbis">OGG</a>, or <a class="reference external" href="https://en.wikipedia.org/wiki/FLAC">FLAC</a>) into an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the input filename.</p></li>
<li><p><strong>tottracks</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – optional argument, the total number of tracks for the song in its album. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the total number of tracks won’t explicitly be defined. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p></li>
<li><p><strong>album_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – optional argument, the file path to the album cover (must be a <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> or <a class="reference external" href="https://en.wikipedia.org/wiki/JPEG">JPEG</a> file). If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then no album cover will be added to the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> song’s metadata.</p></li>
<li><p><strong>outfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – optional argument, the name of the output <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> file. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then file’s name is <code class="docutils literal notranslate"><span class="pre">&lt;artist&gt;.&lt;song&gt;.m4a</span></code>.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the print out more debugging output.</p></li>
<li><p><strong>toUpper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then run <a class="reference external" href="https://github.com/ppannuto/python-titlecase">titlecase</a> on the song title.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.music_to_m4a.rename_m4a">
<code class="sig-prename descclassname">nprstuff.core.music_to_m4a.</code><code class="sig-name descname">rename_m4a</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m4afilename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.music_to_m4a.rename_m4a" title="Permalink to this definition">¶</a></dt>
<dd><p>Renames an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> music file to <code class="docutils literal notranslate"><span class="pre">&lt;artist&gt;.&lt;song&gt;.m4a</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;artist&gt;</span></code> is the artist name and <code class="docutils literal notranslate"><span class="pre">&lt;song&gt;</span></code> is the song title.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>m4filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the input <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> file name.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="freshair-and-freshair-by-year-modules">
<h2><span class="section-number">5.5. </span>freshair and freshair_by_year modules<a class="headerlink" href="#freshair-and-freshair-by-year-modules" title="Permalink to this headline">¶</a></h2>
<p>These two modules provide the low level functionality to process and download <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes. Until a few months ago, the <a class="reference external" href="https://api.npr.org">older NPR API</a> existed and worked without issues, but because it was so successful it went away. I now try to fix functionality that is broken, but it is slow undocumented going – hence, diffusion.</p>
<blockquote>
<div><span class="target" id="module-nprstuff.core.freshair"></span><dl class="py function">
<dt id="nprstuff.core.freshair.get_freshair">
<code class="sig-prename descclassname">nprstuff.core.freshair.</code><code class="sig-name descname">get_freshair</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputdir</span></em>, <em class="sig-param"><span class="n">date_s</span></em>, <em class="sig-param"><span class="n">order_totnum</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">check_if_exist</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">mp3_exist</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">to_file_debug</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair.get_freshair" title="Permalink to this definition">¶</a></dt>
<dd><p>The main driver method that downloads <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes for a given date into a specified output directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory into which one downloads the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p></li>
<li><p><strong>date_s</strong> – the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for this episode, which must be a weekday.</p></li>
<li><p><strong>order_totnum</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – optional argument, the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of track number and total number of tracks of <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes for that year. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then this information is gathered from <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_order_num_weekday_in_year</span></code>.</p></li>
<li><p><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> returns the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode, or its file representation. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>check_if_exist</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> and if the correct file name for the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode exists, then won’t overwrite it. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>mp3_exist</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> then check whether the transitional <a class="reference external" href="https://en.wikipedia.org/wiki/MP3">MP3</a> files for the stories in the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode has been downloaded and use the fully downloaded stories to compose an episode. Otherwise, ignore existing downloaded <a class="reference external" href="https://en.wikipedia.org/wiki/MP3">MP3</a> stories for download.</p></li>
<li><p><strong>to_file_debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> then just download the XML file of date for that <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode, instead of the episode itself.</p></li>
<li><p><strong>driver</strong> – optional argument, the <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a> used for webscraping and querying (instead of using a functional API) for <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then a new <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a> will be defined and used within this method’s scope.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the name of the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair.get_freshair_date_from_name">
<code class="sig-prename descclassname">nprstuff.core.freshair.</code><code class="sig-name descname">get_freshair_date_from_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">candidateNPRFreshAirFile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair.get_freshair_date_from_name" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>candidateNPRFreshAirFile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the name of the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode file name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> object from the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode file name.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair.get_freshair_image">
<code class="sig-prename descclassname">nprstuff.core.freshair.</code><code class="sig-name descname">get_freshair_image</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair.get_freshair_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> logo as binary data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://media.npr.org/images/podcasts/2013/primary/fresh_air.png">NPR Fresh Air logo</a> as binary data, see below.</p>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/fresh_air.png"><img alt="_images/fresh_air.png" class="align-center" src="_images/fresh_air.png" style="width: 100%;" /></a>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair.get_freshair_valid_dates_remaining_tuples">
<code class="sig-prename descclassname">nprstuff.core.freshair.</code><code class="sig-name descname">get_freshair_valid_dates_remaining_tuples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">yearnum</span></em>, <em class="sig-param"><span class="n">inputdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair.get_freshair_valid_dates_remaining_tuples" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yearnum</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the year for which to search for missing <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p></li>
<li><p><strong>inputfdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory in which the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes live.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a sorted <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>, ordered by candidate track number of the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode. The <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> has three elements: the track number of <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes that year, the total number of <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes that year, and the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for that episode.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair.get_title_mp3_urls_attic">
<code class="sig-prename descclassname">nprstuff.core.freshair.</code><code class="sig-name descname">get_title_mp3_urls_attic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputdir</span></em>, <em class="sig-param"><span class="n">date_s</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">to_file_debug</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair.get_title_mp3_urls_attic" title="Permalink to this definition">¶</a></dt>
<dd><p>older functionality that uses the <cite>old NPR API</cite> to get an ordered <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of stories for an <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode. Here is an example operation,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="n">date_s</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s1">&#39;July 31, 2020&#39;</span><span class="p">,</span> <span class="s1">&#39;%B </span><span class="si">%d</span><span class="s1">, %Y&#39;</span> <span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">(</span> <span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">title_mp3_urls</span> <span class="o">=</span> <span class="n">get_title_mp3_urls_attic</span><span class="p">(</span> <span class="n">date_s</span> <span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">title_list_mp3_urls</span>
<span class="o">&gt;&gt;</span> <span class="p">[(</span><span class="s1">&#39;Remembering Regis Philbin, Prolific Talk and Game Show Personality&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/fa/2020/07/20200731_fa_01.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s2">&quot;With &#39;Folklore,&#39; Taylor Swift Marks Off Her Past and Enters a New Phase&quot;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/fa/2020/07/20200731_fa_02.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;Remembering Jazz Singer Annie Ross&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/fa/2020/07/20200731_fa_03.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s2">&quot;&#39;Muppets Now&#39; Proves It&#39;s Not Easy to Capture the Old Muppet Magic&quot;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/fa/2020/07/20200731_fa_04.mp3&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>I was able to get this to work by replacing the <code class="docutils literal notranslate"><span class="pre">https://</span></code> in the API URL query with <code class="docutils literal notranslate"><span class="pre">http://</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory into which one downloads the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p></li>
<li><p><strong>date_s</strong> – the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for this episode, which must be a weekday.</p></li>
<li><p><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> returns the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode, or its file representation. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>to_file_debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> dumps out the file representation of the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of stories, by order, for the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode. The first element of each <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> is the story title, and th second is the <a class="reference external" href="https://en.wikipedia.org/wiki/MP3">MP3</a> URL for the story. <em>However</em>, if <code class="docutils literal notranslate"><span class="pre">debug</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">to_file_debug</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for this <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.core.freshair.get_freshair" title="nprstuff.core.freshair.get_freshair"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_freshair</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.freshair.get_title_mp3_urls_working" title="nprstuff.core.freshair.get_title_mp3_urls_working"><code class="xref py py-class docutils literal notranslate"><span class="pre">get_title_mp3_urls_working</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair.get_title_mp3_urls_working">
<code class="sig-prename descclassname">nprstuff.core.freshair.</code><code class="sig-name descname">get_title_mp3_urls_working</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputdir</span></em>, <em class="sig-param"><span class="n">date_s</span></em>, <em class="sig-param"><span class="n">driver</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">to_file_debug</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair.get_title_mp3_urls_working" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the new, non-API NPR functionality, get a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of stories for an <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode. This uses a <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a> to get an episode. Here is an example operation,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="n">date_s</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s1">&#39;July 31, 2020&#39;</span><span class="p">,</span> <span class="s1">&#39;%B </span><span class="si">%d</span><span class="s1">, %Y&#39;</span> <span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">(</span> <span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">title_mp3_urls</span> <span class="o">=</span> <span class="n">get_title_mp3_urls_working</span><span class="p">(</span> <span class="n">date_s</span><span class="p">,</span> <span class="n">driver</span> <span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">title_list_mp3_urls</span>
<span class="o">&gt;&gt;</span> <span class="p">[(</span><span class="s1">&#39;Remembering Regis Philbin, Prolific Talk and Game Show Personality&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/fa/2020/07/20200731_fa_01.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s2">&quot;With &#39;Folklore,&#39; Taylor Swift Marks Off Her Past and Enters a New Phase&quot;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/fa/2020/07/20200731_fa_02.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;Remembering Jazz Singer Annie Ross&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/fa/2020/07/20200731_fa_03.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s2">&quot;&#39;Muppets Now&#39; Proves It&#39;s Not Easy to Capture the Old Muppet Magic&quot;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/fa/2020/07/20200731_fa_04.mp3&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory into which one downloads the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p></li>
<li><p><strong>date_s</strong> – the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for this episode, which must be a weekday.</p></li>
<li><p><strong>driver</strong> – the <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a> used for webscraping and querying (instead of using a functional API) for <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p></li>
<li><p><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> returns the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode, or its file representation. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>to_file_debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> dumps out the file representation of the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of stories, by order, for the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode. The first element of each <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> is the story title, and th second is the <a class="reference external" href="https://en.wikipedia.org/wiki/MP3">MP3</a> URL for the story. <em>However</em>, if <code class="docutils literal notranslate"><span class="pre">debug</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for this <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nprstuff.core.freshair.get_freshair" title="nprstuff.core.freshair.get_freshair"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_freshair</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#nprstuff.core.freshair.get_title_mp3_urls_attic" title="nprstuff.core.freshair.get_title_mp3_urls_attic"><code class="xref py py-class docutils literal notranslate"><span class="pre">get_title_mp3_urls_attic</span></code></a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair.process_all_freshairs_by_year">
<code class="sig-prename descclassname">nprstuff.core.freshair.</code><code class="sig-name descname">process_all_freshairs_by_year</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">yearnum</span></em>, <em class="sig-param"><span class="n">inputdir</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">justCoverage</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair.process_all_freshairs_by_year" title="Permalink to this definition">¶</a></dt>
<dd><p>Either downloads all missing <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes for a given year, or prints out a report of those missing episodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yearnum</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the year for which to search for missing <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p></li>
<li><p><strong>inputdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory in which the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes live.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the print out more debugging output.</p></li>
<li><p><strong>justCoverage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then only report on missing <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.freshair.get_freshair" title="nprstuff.core.freshair.get_freshair"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_freshair</span></code></a>.</p>
</div>
</dd></dl>

<span class="target" id="module-nprstuff.core.freshair_by_year"></span><dl class="py function">
<dt id="nprstuff.core.freshair_by_year.create_plot_year">
<code class="sig-prename descclassname">nprstuff.core.freshair_by_year.</code><code class="sig-name descname">create_plot_year</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">year</span><span class="o">=</span><span class="default_value">2010</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair_by_year.create_plot_year" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an SVGZ (<a class="reference external" href="https://en.wikipedia.org/wiki/Gzip">GZIP</a> compressed <a class="reference external" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a>) calendar plot that summarizes the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes in a specified year. It is easier to show the figure with description than to describe without a figure, here for 2020 (created on 13 AUGUST 2020).</p>
<a class="reference internal image-reference" href="_images/freshair.2020.svg"><img alt="_images/freshair.2020.svg" class="align-center" src="_images/freshair.2020.svg" width="100%" /></a>
<p>The dark blue boxes are for <code class="docutils literal notranslate"><span class="pre">existing</span></code> episodes. The light yellow boxes are for episodes that have not yet aired. The light orange boxes are for <code class="docutils literal notranslate"><span class="pre">missing</span></code> episodes. And those boxes colored from light orange on the left to turquoise on the right are <code class="docutils literal notranslate"><span class="pre">underoccupied</span></code> episodes: I have downloaded them, but they are shorter than the published duration of that <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the calendar year.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.freshair_by_year.suncal" title="nprstuff.core.freshair_by_year.suncal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">suncal</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair_by_year.find_occupied_days">
<code class="sig-prename descclassname">nprstuff.core.freshair_by_year.</code><code class="sig-name descname">find_occupied_days</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mon</span></em>, <em class="sig-param"><span class="n">year</span><span class="o">=</span><span class="default_value">2010</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair_by_year.find_occupied_days" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the calendar month. <code class="docutils literal notranslate"><span class="pre">January</span></code> is 1, <code class="docutils literal notranslate"><span class="pre">December</span></code> is 12.</p></li>
<li><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the calendar year.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of calendar weekdays of <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes for that calendar month and year.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.8)">set</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair_by_year.find_underoccupied_dates">
<code class="sig-prename descclassname">nprstuff.core.freshair_by_year.</code><code class="sig-name descname">find_underoccupied_dates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mon</span></em>, <em class="sig-param"><span class="n">year</span><span class="o">=</span><span class="default_value">2010</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair_by_year.find_underoccupied_dates" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the calendar month. <code class="docutils literal notranslate"><span class="pre">January</span></code> is 1, <code class="docutils literal notranslate"><span class="pre">December</span></code> is 12.</p></li>
<li><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the calendar year.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>: key is the day of the month and year, and value is the (candidate, too short) length of the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode on file, in seconds.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair_by_year.get_color">
<code class="sig-prename descclassname">nprstuff.core.freshair_by_year.</code><code class="sig-name descname">get_color</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">discrep</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair_by_year.get_color" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a hex color linearly interpolated between “#1f77b4” (value of 0.0) and “#ff7f0e” (value of 1.0) for a value <span class="math notranslate nohighlight">\(0 \le v \le 1\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>discrep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the value over which to interpolate to return a hex color.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a hex color linearly interpolated between “#1f77b4” (value of 0.0) and “#ff7f0e” (value of 1.0).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.freshair_by_year.suncal">
<code class="sig-prename descclassname">nprstuff.core.freshair_by_year.</code><code class="sig-name descname">suncal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mon</span></em>, <em class="sig-param"><span class="n">year</span><span class="o">=</span><span class="default_value">2010</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.freshair_by_year.suncal" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the calendar of day numbers for a given month and year, as numpy integer array of 7 columns (Sunday is the column 0, and Saturday is column 6). For example, for December 2019, here is the output.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="n">suncal</span><span class="p">(</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2019</span> <span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
<span class="p">[</span> <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span>
<span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span>
<span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">],</span>
<span class="p">[</span><span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">]])</span>
</pre></div>
</div>
<p>Here, December 1, 2019, is a Sunday, and December 7, 2019, is a Saturday. Zero array values are <em>not</em> in December 2019 (December 31, 2019, is a Tuesday).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the calendar month. <code class="docutils literal notranslate"><span class="pre">January</span></code> is 1, <code class="docutils literal notranslate"><span class="pre">December</span></code> is 12.</p></li>
<li><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the calendar year.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an integer <code class="xref py py-class docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code> of calendar days for that month and year.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">array</span></code></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.freshair_by_year.create_plot_year" title="nprstuff.core.freshair_by_year.create_plot_year"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_plot_year</span></code></a>.</p>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="thisamericanlife-module">
<h2><span class="section-number">5.6. </span>thisamericanlife module<a class="headerlink" href="#thisamericanlife-module" title="Permalink to this headline">¶</a></h2>
<p>This module provides the low level functionality to the <a class="reference internal" href="core_functionality.html#this-american-life-label"><span class="std std-ref">This American Life</span></a> CLI and some extra functionality.</p>
<span class="target" id="module-nprstuff.core.thisamericanlife"></span><dl class="py function">
<dt id="nprstuff.core.thisamericanlife.get_TAL_URL">
<code class="sig-prename descclassname">nprstuff.core.thisamericanlife.</code><code class="sig-name descname">get_TAL_URL</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epno</span></em>, <em class="sig-param"><span class="n">verify</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.thisamericanlife.get_TAL_URL" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the MP3 URL of the <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> episode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epno</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the episode number of <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a>.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the URL for <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> episode. If URL could not be found, returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.thisamericanlife.get_american_life">
<code class="sig-prename descclassname">nprstuff.core.thisamericanlife.</code><code class="sig-name descname">get_american_life</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epno</span></em>, <em class="sig-param"><span class="n">directory</span><span class="o">=</span><span class="default_value">'/mnt/media/thisamericanlife'</span></em>, <em class="sig-param"><span class="n">extraStuff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verify</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dump</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.thisamericanlife.get_american_life" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads an episode of <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> into a given directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epno</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the episode number of <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a>.</p></li>
<li><p><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory into which to download a <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> episode. Default is <code class="docutils literal notranslate"><span class="pre">/mnt/media/thisamericanlife</span></code>.</p></li>
<li><p><strong>extraStuff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – additional stuff to put into the candidate URL for <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> episodes. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>dump</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> then instead of downloading first <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a>, downloads the XML info as a file, named <code class="docutils literal notranslate"><span class="pre">PRI.ThisAmericanLife.&lt;NUM&gt;.xml</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.thisamericanlife.get_americanlife_info" title="nprstuff.core.thisamericanlife.get_americanlife_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_americanlife_info</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.thisamericanlife.get_americanlife_info">
<code class="sig-prename descclassname">nprstuff.core.thisamericanlife.</code><code class="sig-name descname">get_americanlife_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epno</span></em>, <em class="sig-param"><span class="n">throwException</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">extraStuff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verify</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dump</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">directory</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.thisamericanlife.get_americanlife_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple of title, year given the episode number for <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epno</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the episode number of <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a>.</p></li>
<li><p><strong>throwException</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, whether to throw a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> exception if <em>cannot</em> find the title of this candidate <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> episode. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>extraStuff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – additional stuff to put into the candidate URL for <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> episodes. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>verify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, whether to verify SSL connections. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>dump</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> then instead of downloading first <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a>, downloads the XML info as a file, named <code class="docutils literal notranslate"><span class="pre">PRI.ThisAmericanLife.&lt;NUM&gt;.xml</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory into which to download a <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> episode. Default is the current working directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of <code class="docutils literal notranslate"><span class="pre">title</span></code>, <code class="docutils literal notranslate"><span class="pre">year</span></code>, and <code class="docutils literal notranslate"><span class="pre">html</span></code> in which this episode was aired. Otherwise, if <code class="docutils literal notranslate"><span class="pre">throwException</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> and title is not found, returns <code class="docutils literal notranslate"><span class="pre">None</span></code>. <code class="docutils literal notranslate"><span class="pre">html</span></code> is the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> tree of the XML data for this <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> episode.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)">tuple</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.thisamericanlife.get_american_life" title="nprstuff.core.thisamericanlife.get_american_life"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_american_life</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.thisamericanlife.thisamericanlife_crontab">
<code class="sig-prename descclassname">nprstuff.core.thisamericanlife.</code><code class="sig-name descname">thisamericanlife_crontab</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.thisamericanlife.thisamericanlife_crontab" title="Permalink to this definition">¶</a></dt>
<dd><p>This python module downloads a <a class="reference external" href="https://www.thisamericanlife.org">This American Life</a> episode every weekend. It uses the <a class="reference external" href="https://feedparser.readthedocs.io">Feedparser</a>’s functionality using its RSS feed.</p>
</dd></dl>

</div>
<div class="section" id="waitwait-and-waitwait-realmedia-modules">
<h2><span class="section-number">5.7. </span>waitwait and waitwait_realmedia modules<a class="headerlink" href="#waitwait-and-waitwait-realmedia-modules" title="Permalink to this headline">¶</a></h2>
<p>These two modules provide the low level functionality to process and download <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait…Don’t Tell Me</a> episodes.Until a few months ago, the <a class="reference external" href="https://api.npr.org">older NPR API</a> existed and worked without issues, but because it was so successful it went away. I now try to fix functionality that is broken, but it is slow undocumented going – hence, diffusion. This is just like my experience with the <a class="reference internal" href="#freshair-and-freshair-by-year-modules"><span class="std std-ref">freshair and freshair_by_year modules</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The functionality for downloading <a class="reference external" href="https://en.wikipedia.org/wiki/RealMedia">RealMedia</a> <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes, which lives in <a class="reference internal" href="#module-nprstuff.core.waitwait_realmedia" title="nprstuff.core.waitwait_realmedia"><code class="xref py py-mod docutils literal notranslate"><span class="pre">waitwait_realmedia</span></code></a>, has not been tested in <em>years</em>. This module is used to download Wait Wait episodes before 2006; it may no longer work!</p>
</div>
<span class="target" id="module-nprstuff.core.waitwait"></span><dl class="py function">
<dt id="nprstuff.core.waitwait.get_all_waitwaits_year">
<code class="sig-prename descclassname">nprstuff.core.waitwait.</code><code class="sig-name descname">get_all_waitwaits_year</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">yearnum</span></em>, <em class="sig-param"><span class="n">inputdir</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait.get_all_waitwaits_year" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for missing <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes in a given year, then downloads them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yearnum</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the year for which to search for missing <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes.</p></li>
<li><p><strong>inputdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory into which the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes are downloaded.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> then print out lots of progress statements.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.waitwait.get_title_mp3_urls_working">
<code class="sig-prename descclassname">nprstuff.core.waitwait.</code><code class="sig-name descname">get_title_mp3_urls_working</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputdir</span></em>, <em class="sig-param"><span class="n">date_s</span></em>, <em class="sig-param"><span class="n">driver</span></em>, <em class="sig-param"><span class="n">dump</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait.get_title_mp3_urls_working" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the new, non-API NPR functionality, get a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of stories for an <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode. This uses a <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a> to get an episode. Here is an example operation,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="n">date_s</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s1">&#39;August 8, 2020&#39;</span><span class="p">,</span> <span class="s1">&#39;%B </span><span class="si">%d</span><span class="s1">, %Y&#39;</span> <span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">(</span> <span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">title_list_mp3_urls</span> <span class="o">=</span> <span class="n">get_title_mp3_urls_working</span><span class="p">(</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">date_s</span><span class="p">,</span> <span class="n">driver</span> <span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">title_list_mp3_urls</span>
<span class="o">&gt;&gt;</span> <span class="p">[(</span><span class="s2">&quot;Who&#39;s Bill This Time?&quot;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/waitwait/2020/08/20200808_waitwait_01.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;Panel Questions&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/waitwait/2020/08/20200808_waitwait_02.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;Bluff the Listener&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/waitwait/2020/08/20200808_waitwait_03.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s2">&quot;Bryan Cranston Plays &#39;Not My Job&#39; on &#39;Wait Wait... Don&#39;t Tell Me!&#39;&quot;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/waitwait/2020/08/20200808_waitwait_04.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;Panel Questions&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/waitwait/2020/08/20200808_waitwait_05.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;Limericks&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/waitwait/2020/08/20200808_waitwait_06.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;Lightning Fill in the Blank&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/waitwait/2020/08/20200808_waitwait_07.mp3&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;Predictions&#39;</span><span class="p">,</span>
  <span class="s1">&#39;https://ondemand.npr.org/anon.npr-mp3/npr/waitwait/2020/08/20200808_waitwait_08.mp3&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory into which one downloads the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes.</p></li>
<li><p><strong>date_s</strong> – the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for this episode, which must be a Saturday.</p></li>
<li><p><strong>driver</strong> – the <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a> used for webscraping and querying (instead of using a functional API) for <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes.</p></li>
<li><p><strong>dump</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> returns the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episode, or its file representation, and dumps the XML data into an XML file. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of stories, by order, for the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode. The first element of each <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> is the story title, and th second is the <a class="reference external" href="https://en.wikipedia.org/wiki/MP3">MP3</a> URL for the story. <em>However</em>, if <code class="docutils literal notranslate"><span class="pre">debug</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for this <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#nprstuff.core.waitwait.get_waitwait" title="nprstuff.core.waitwait.get_waitwait"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_waitwait</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.waitwait.get_waitwait">
<code class="sig-prename descclassname">nprstuff.core.waitwait.</code><code class="sig-name descname">get_waitwait</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputdir</span></em>, <em class="sig-param"><span class="n">date_s</span></em>, <em class="sig-param"><span class="n">order_totnum</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dump</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">driver</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">justFix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait.get_waitwait" title="Permalink to this definition">¶</a></dt>
<dd><p>The main driver method that downloads <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes for a given date into a specified output directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory into which one downloads the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes.</p></li>
<li><p><strong>date_s</strong> – the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for this episode, which must be a weekday.</p></li>
<li><p><strong>order_totnum</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – optional argument, the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of track number and total number of tracks of <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes for that year. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then this information is gathered from <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_order_num_saturday_in_year</span></code>.</p></li>
<li><p><strong>dump</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> returns the <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#beautifulsoup" title="(in Beautiful Soup v4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> XML tree for the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode (and downloads the XML tree into a file). Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>driver</strong> – optional argument, the <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a> used for webscraping and querying (instead of using a functional API) for <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then a new <a class="reference external" href="https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver" title="(in Selenium Python Bindings v2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Webdriver</span></code></a> will be defined and used within this method’s scope.</p></li>
<li><p><strong>justFix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – optional argument, if <code class="docutils literal notranslate"><span class="pre">True</span></code> and if <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> file exists, then just change the title of the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">M4A</a> file. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the name of the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.waitwait.get_waitwait_date_from_name">
<code class="sig-prename descclassname">nprstuff.core.waitwait.</code><code class="sig-name descname">get_waitwait_date_from_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">candidateNPRWaitWaitFile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait.get_waitwait_date_from_name" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>candidateNPRWaitWaitFile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the name of the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode file name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> object from the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode file name.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.waitwait.get_waitwait_image">
<code class="sig-prename descclassname">nprstuff.core.waitwait.</code><code class="sig-name descname">get_waitwait_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verify</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait.get_waitwait_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> logo as binary data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://mediaapi.whro.org/images/59d53b5ec76ad8.94499837.jpg">NPR Wait Wait logo</a> as binary data, see below.</p>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/waitwaitnew.png"><img alt="_images/waitwaitnew.png" class="align-center" src="_images/waitwaitnew.png" style="width: 100%;" /></a>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.waitwait.get_waitwait_valid_dates_remaining_tuples">
<code class="sig-prename descclassname">nprstuff.core.waitwait.</code><code class="sig-name descname">get_waitwait_valid_dates_remaining_tuples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">yearnum</span></em>, <em class="sig-param"><span class="n">inputdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait.get_waitwait_valid_dates_remaining_tuples" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yearnum</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the year for which to search for missing <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes.</p></li>
<li><p><strong>inputdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory in which the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes live.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a sorted <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>, ordered by candidate track number of the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode. The <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> has three elements: the track number of <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes that year, the total number of <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episodes that year, and the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for that episode.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.waitwait.waitwait_crontab">
<code class="sig-prename descclassname">nprstuff.core.waitwait.</code><code class="sig-name descname">waitwait_crontab</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait.waitwait_crontab" title="Permalink to this definition">¶</a></dt>
<dd><p>This python module downloads an <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode on a particular Saturday.</p>
</dd></dl>

<span class="target" id="module-nprstuff.core.waitwait_realmedia"></span><dl class="py function">
<dt id="nprstuff.core.waitwait_realmedia.rm_create_wav_file">
<code class="sig-prename descclassname">nprstuff.core.waitwait_realmedia.</code><code class="sig-name descname">rm_create_wav_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_s</span></em>, <em class="sig-param"><span class="n">rm_file</span></em>, <em class="sig-param"><span class="n">outdir</span><span class="o">=</span><span class="default_value">'/mnt/software/sources/pythonics/nprstuff/docs'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait_realmedia.rm_create_wav_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses <a class="reference external" href="https://en.wikipedia.org/wiki/MPlayer">MPlayer</a> to convert the <a class="reference external" href="https://en.wikipedia.org/wiki/RealMedia">RealMedia</a> <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> file into <a class="reference external" href="https://en.wikipedia.org/wiki/WAV">WAV</a> format.</p>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.waitwait_realmedia.rm_download_file">
<code class="sig-prename descclassname">nprstuff.core.waitwait_realmedia.</code><code class="sig-name descname">rm_download_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_s</span></em>, <em class="sig-param"><span class="n">outdir</span><span class="o">=</span><span class="default_value">'/mnt/software/sources/pythonics/nprstuff/docs'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait_realmedia.rm_download_file" title="Permalink to this definition">¶</a></dt>
<dd><p>downloads the <a class="reference external" href="https://en.wikipedia.org/wiki/RealMedia">RealMedia</a> <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode into a specified directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date_s</strong> – the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for this episode, which must be a Saturday.</p></li>
<li><p><strong>outdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the directory into which one downloads the <a class="reference external" href="https://freshair.npr.org">NPR Fresh Air</a> episodes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://en.wikipedia.org/wiki/RealMedia">RealMedia</a> output file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.waitwait_realmedia.rm_get_main_url">
<code class="sig-prename descclassname">nprstuff.core.waitwait_realmedia.</code><code class="sig-name descname">rm_get_main_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait_realmedia.rm_get_main_url" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_s</strong> – the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for this episode, which must be a Saturday.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the full <a class="reference external" href="https://en.wikipedia.org/wiki/RealMedia">RealMedia</a> URL for this older <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> episode.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nprstuff.core.waitwait_realmedia.rm_get_title_from_url">
<code class="sig-prename descclassname">nprstuff.core.waitwait_realmedia.</code><code class="sig-name descname">rm_get_title_from_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nprstuff.core.waitwait_realmedia.rm_get_title_from_url" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_s</strong> – the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> for this episode, which must be a Saturday.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a full title for the <a class="reference external" href="https://waitwait.npr.org">NPR Wait Wait</a> <a class="reference external" href="https://en.wikipedia.org/wiki/RealMedia">RealMedia</a> episode.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="oldstuff.html" class="btn btn-neutral float-left" title="4. Oldstuff" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Tanim Islam

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>